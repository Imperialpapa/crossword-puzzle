// ===== Supabase Configuration =====
const SUPABASE_CONFIG = {
    url: "https://mpmzixrzongtrxhzbbcw.supabase.co",
    anonKey: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1wbXppeHJ6b25ndHJ4aHpiYmN3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwNzU5NTQsImV4cCI6MjA4MDY1MTk1NH0.L7kqxWgHG-ThhZv9MDAUPgFlVto49_Ue-wWGp8zby8s"
};

// Supabase í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™”
let supabaseClient = null;

// ===== Advanced Crossword Puzzle Game =====
class AdvancedCrosswordGame {
    constructor() {
        // Game Settings
        this.gridSize = 15;
        this.language = 'english';
        this.difficulty = 5;
        this.gameTime = 180; // 3 minutes default
        this.timer = this.gameTime;
        this.score = 0;
        this.gameActive = false;
        this.isPaused = false;
        this.soundEnabled = true;
        this.theme = 'light';

        // Game State
        this.grid = [];
        this.solution = [];
        this.words = [];
        this.clues = { across: [], down: [] };
        this.wordPositions = new Map();
        this.completedWords = new Set();
        this.currentSelection = null;
        this.timerInterval = null;

        // Word Database
        this.wordDatabase = new Map();

        // Supabase ì´ˆê¸°í™” ë° ë‹¨ì–´ ë¡œë“œ
        this.initializeSupabase();
        this.initializeWordDatabase();

        this.initDOM();
        this.initEventListeners();
        this.initTheme();
        this.loadHighScores();
        this.updateWordCount();
    }

    // ===== Supabase Initialization =====
    async initializeSupabase() {
        try {
            if (typeof supabase !== 'undefined') {
                supabaseClient = supabase.createClient(SUPABASE_CONFIG.url, SUPABASE_CONFIG.anonKey);
                console.log('âœ… Supabase í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™” ì™„ë£Œ');

                // DBì—ì„œ ë‹¨ì–´ ë¡œë“œ
                await this.loadWordsFromSupabase();
            } else {
                console.warn('âš ï¸ Supabase ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë¡œì»¬ ë‹¨ì–´ë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤.');
            }
        } catch (error) {
            console.error('âŒ Supabase ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
        }
    }

    // ===== Word Database System =====
    initializeWordDatabase() {
        // Supabaseì—ì„œë§Œ ë‹¨ì–´ë¥¼ ë¡œë“œí•˜ë¯€ë¡œ ë¹ˆ êµ¬ì¡°ë§Œ ì´ˆê¸°í™”
        console.log('ğŸ“š ë‹¨ì–´ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡° ì´ˆê¸°í™”...');

        // ì–¸ì–´ë³„ë¡œ ë¹ˆ Map êµ¬ì¡° ìƒì„±
        const languages = ['english', 'korean'];
        const difficulties = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

        languages.forEach(lang => {
            this.wordDatabase.set(lang, new Map());
            difficulties.forEach(diff => {
                this.wordDatabase.get(lang).set(diff, []);
            });
        });

        console.log('âœ… ë‹¨ì–´ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡° ì´ˆê¸°í™” ì™„ë£Œ');
        console.log('â„¹ï¸ ì‹¤ì œ ë‹¨ì–´ëŠ” Supabaseì—ì„œ ë¡œë“œë©ë‹ˆë‹¤.');

        // ì„ì‹œ ëŒ€ì²´ ë‹¨ì–´ (Supabase ë¡œë“œ ì „ ìµœì†Œí•œì˜ ë™ì‘ ë³´ì¥)
        const fallbackWords = {
            english: {
                1: [
                    { word: 'CAT', hints: ['Domestic animal that says meow', 'Pet that catches mice'] },
                    { word: 'DOG', hints: ['Mans best friend', 'Loyal pet that barks'] },
                    { word: 'SUN', hints: ['Bright star in sky', 'Hot celestial body'] }
                    { word: 'BOX', hints: ['Square container used for storage', 'Rectangular package for shipping items'] },
                    { word: 'HAT', hints: ['Clothing worn on head for protection', 'Fashion accessory that covers your hair'] },
                    { word: 'BAT', hints: ['Flying mammal that sleeps upside down', 'Nocturnal creature that uses echolocation'] },
                    { word: 'RUN', hints: ['Move quickly on foot at fast pace', 'Exercise activity faster than walking'] },
                    { word: 'PEN', hints: ['Writing instrument using ink', 'Tool for putting words on paper'] },
                    { word: 'CUP', hints: ['Container for drinking beverages', 'Vessel that holds liquid like coffee or tea'] },
                    { word: 'BED', hints: ['Furniture for sleeping and resting', 'Place where you lie down at night'] },
                    { word: 'KEY', hints: ['Metal object that opens locks', 'Tool used to unlock doors and start cars'] },
                    { word: 'MAP', hints: ['Visual representation of geographical area', 'Paper showing roads, cities and landmarks'] },
                    { word: 'NET', hints: ['Mesh material with holes for catching', 'Web-like structure used in sports and fishing'] },
                    { word: 'OWL', hints: ['Nocturnal bird with large eyes', 'Wise creature that hoots at night'] }
                ],
                2: [
                    { word: 'HOUSE', hints: ['Building where people live and sleep', 'Residential structure with rooms and roof'] },
                    { word: 'WATER', hints: ['Clear liquid essential for all life', 'H2O that falls from sky as rain'] },
                    { word: 'HAPPY', hints: ['Emotional state of joy and contentment', 'Feeling pleased and cheerful about life'] },
                    { word: 'GREEN', hints: ['Color of grass and leaves in nature', 'Mix of blue and yellow creates this hue'] },
                    { word: 'MUSIC', hints: ['Art form using sounds and rhythms', 'Harmonious combinations of notes and melodies'] },
                    { word: 'BREAD', hints: ['Baked food made from flour and water', 'Staple food often eaten with butter'] },
                    { word: 'LIGHT', hints: ['Illumination that helps us see things', 'Opposite of darkness that brightens space'] },
                    { word: 'PHONE', hints: ['Communication device for talking to others', 'Electronic gadget for making calls and texts'] },
                    { word: 'TABLE', hints: ['Flat surface with legs for eating or working', 'Furniture where family gathers for meals'] },
                    { word: 'CHAIR', hints: ['Seat with back support for one person', 'Furniture for sitting at desk or table'] },
                    { word: 'PIANO', hints: ['Musical instrument with black and white keys', 'Large keyboard instrument played by pressing keys'] },
                    { word: 'TIGER', hints: ['Large striped wild cat from Asia', 'Orange and black predator of the jungle'] },
                    { word: 'STORM', hints: ['Severe weather with strong winds and rain', 'Natural phenomenon with thunder and lightning'] },
                    { word: 'OCEAN', hints: ['Vast body of salt water covering Earth', 'Large sea with waves and marine life'] },
                    { word: 'SMILE', hints: ['Happy facial expression showing teeth', 'Upward curve of mouth indicating joy'] }
                ],
                3: [
                    { word: 'COMPUTER', hints: ['Electronic machine for processing information', 'Digital device with keyboard, screen and programs'] },
                    { word: 'RAINBOW', hints: ['Colorful arc appearing in sky after rain', 'Spectrum of colors formed by light and water'] },
                    { word: 'BICYCLE', hints: ['Two-wheeled vehicle powered by pedaling', 'Eco-friendly transport with handlebars and chain'] },
                    { word: 'KITCHEN', hints: ['Room in house where food is prepared', 'Area with stove, refrigerator and cooking tools'] },
                    { word: 'PICTURE', hints: ['Visual image captured by camera or drawn', 'Artwork or photograph displayed on wall'] },
                    { word: 'STUDENT', hints: ['Person who attends school or university', 'Learner studying subjects and taking tests'] },
                    { word: 'TEACHER', hints: ['Person who educates and instructs students', 'Professional who works in school classrooms'] },
                    { word: 'DOLPHIN', hints: ['Intelligent marine mammal that jumps', 'Friendly sea creature known for playfulness'] },
                    { word: 'ELEPHANT', hints: ['Largest land animal with long trunk', 'Gray mammal with big ears and tusks'] },
                    { word: 'SUNSHINE', hints: ['Bright light coming from the sun', 'Warmth and rays from daytime star'] },
                    { word: 'BIRTHDAY', hints: ['Annual celebration of the day you were born', 'Special day with cake and presents'] },
                    { word: 'MOUNTAIN', hints: ['Very tall natural elevation of earth', 'High peak covered with snow and rocks'] },
                    { word: 'HOSPITAL', hints: ['Medical facility where sick people get treatment', 'Building with doctors and nurses caring for patients'] },
                    { word: 'AIRPLANE', hints: ['Flying vehicle that travels through air', 'Aircraft with wings carrying passengers'] },
                    { word: 'FOOTBALL', hints: ['Popular sport played with oval ball', 'Team game involving kicking ball into goal'] }
                ],
                4: [
                    { word: 'BUTTERFLY', hints: ['Colorful insect with beautiful wings', 'Flying creature that was once a caterpillar'] },
                    { word: 'CHOCOLATE', hints: ['Sweet brown treat made from cocoa', 'Delicious candy loved by children'] },
                    { word: 'ADVENTURE', hints: ['Exciting journey or experience', 'Bold undertaking with unknown outcome'] },
                    { word: 'BASKETBALL', hints: ['Sport where you shoot ball through hoop', 'Team game played on court with orange ball'] },
                    { word: 'UMBRELLA', hints: ['Device that protects from rain', 'Portable shelter held above head'] }
                ],
                5: [
                    { word: 'ADVOCATE', hints: ['Publicly support or recommend a cause', 'Person who speaks in favor of something'] },
                    { word: 'AMBIGUOUS', hints: ['Having more than one possible meaning', 'Unclear or open to interpretation'] },
                    { word: 'COHERENT', hints: ['Logical and consistent connection', 'Making sense as a unified whole'] },
                    { word: 'COMPREHEND', hints: ['Fully understand the meaning', 'Grasp mentally what is being communicated'] },
                    { word: 'CONSTITUTE', hints: ['Form or make up as components', 'Establish or set up formally'] },
                    { word: 'CONTEMPORARY', hints: ['Belonging to the same time period', 'Modern or present-day in style'] },
                    { word: 'CONTRADICTION', hints: ['Statement opposing another statement', 'Logical inconsistency between two ideas'] },
                    { word: 'CONTROVERSIAL', hints: ['Causing disagreement or discussion', 'Subject to public dispute or debate'] },
                    { word: 'CRITERION', hints: ['Standard for judging or deciding', 'Principle used for evaluation'] },
                    { word: 'DEMOCRACY', hints: ['Government by the people', 'System where citizens vote for leaders'] },
                    { word: 'DERIVE', hints: ['Obtain something from a source', 'Originate or develop from something'] },
                    { word: 'DIGNITY', hints: ['Quality of being worthy of respect', 'State of being honored and esteemed'] },
                    { word: 'DIMINISH', hints: ['Make or become less in size', 'Reduce in importance or value'] },
                    { word: 'DIVERSE', hints: ['Showing variety and difference', 'Including different types of things'] },
                    { word: 'DOMINATE', hints: ['Have controlling influence over', 'Be most important or conspicuous'] },
                    { word: 'ECONOMIC', hints: ['Relating to economy or finance', 'Concerned with production of wealth'] },
                    { word: 'ELIMINATE', hints: ['Completely remove or get rid of', 'Exclude from consideration'] },
                    { word: 'EMPHASIZE', hints: ['Give special importance to something', 'Stress or highlight particular point'] },
                    { word: 'ENHANCE', hints: ['Improve quality or value', 'Intensify or make greater'] },
                    { word: 'EQUIVALENT', hints: ['Equal in value or meaning', 'Corresponding or matching in effect'] },
                    { word: 'ESSENTIAL', hints: ['Absolutely necessary and important', 'Fundamental or basic quality'] },
                    { word: 'EVIDENT', hints: ['Clear and obvious to understand', 'Plain to see or comprehend'] },
                    { word: 'FUNCTION', hints: ['Purpose or role of something', 'Activity or operation performed'] },
                    { word: 'GENERATE', hints: ['Cause something to exist', 'Produce or create something'] },
                    { word: 'HYPOTHESIS', hints: ['Proposed explanation to be tested', 'Scientific assumption requiring proof'] }
                ],
                6: [
                    { word: 'ABSTRACT', hints: ['Existing in thought not reality', 'Theoretical rather than concrete'] },
                    { word: 'ACCESSIBLE', hints: ['Easy to approach or reach', 'Available for use by everyone'] },
                    { word: 'ACCUMULATE', hints: ['Gather together over time', 'Gradually collect or acquire'] },
                    { word: 'ACCURATE', hints: ['Correct in all details', 'Precise and exact without error'] },
                    { word: 'ACQUIRE', hints: ['Come to possess or obtain', 'Learn or develop skill or habit'] },
                    { word: 'ADEQUATE', hints: ['Sufficient for specific requirement', 'Satisfactory in quality or quantity'] },
                    { word: 'AESTHETIC', hints: ['Concerned with beauty or art', 'Relating to appreciation of beauty'] },
                    { word: 'ALLOCATE', hints: ['Distribute for particular purpose', 'Assign resources to specific use'] },
                    { word: 'ALTERNATIVE', hints: ['Available as another possibility', 'One of two or more options'] },
                    { word: 'ANALYZE', hints: ['Examine in detail to understand', 'Study components systematically'] },
                    { word: 'ANTICIPATE', hints: ['Expect or predict future event', 'Look forward to something happening'] },
                    { word: 'APPARENT', hints: ['Clearly visible or understood', 'Seeming real though not necessarily'] },
                    { word: 'APPRECIATE', hints: ['Recognize value or quality', 'Be grateful for something received'] },
                    { word: 'APPROACH', hints: ['Method of dealing with something', 'Way of considering or handling'] },
                    { word: 'APPROPRIATE', hints: ['Suitable for particular purpose', 'Proper in the circumstances'] },
                    { word: 'APPROXIMATE', hints: ['Close to actual but not exact', 'Roughly calculate or estimate'] },
                    { word: 'ARBITRARY', hints: ['Based on random choice', 'Not based on reason or system'] },
                    { word: 'ASSERT', hints: ['State fact or belief confidently', 'Declare or affirm strongly'] },
                    { word: 'ASSESS', hints: ['Evaluate quality or importance', 'Make judgment about value'] },
                    { word: 'ASSUME', hints: ['Accept without proof as true', 'Suppose something to be case'] },
                    { word: 'ATTRIBUTE', hints: ['Characteristic or quality of person', 'Regard as being caused by'] },
                    { word: 'CAPACITY', hints: ['Maximum amount that can be held', 'Ability or power to do something'] },
                    { word: 'CIRCUMSTANCE', hints: ['Fact or condition connected with event', 'Situation that affects what happens'] },
                    { word: 'CLARIFY', hints: ['Make statement easier to understand', 'Remove confusion or uncertainty'] },
                    { word: 'COGNITIVE', hints: ['Related to mental processes', 'Concerned with knowing and perceiving'] }
                ],
                7: [
                    { word: 'AMBIVALENT', hints: ['Having mixed feelings about something', 'Uncertain between two opposing views'] },
                    { word: 'ARTICULATE', hints: ['Express ideas clearly and effectively', 'Able to speak fluently and coherently'] },
                    { word: 'ASSIMILATE', hints: ['Absorb and integrate information', 'Take in and understand fully'] },
                    { word: 'AUTONOMOUS', hints: ['Having self-government or independence', 'Acting independently without control'] },
                    { word: 'CATALYST', hints: ['Substance that speeds up reaction', 'Person or thing that causes change'] },
                    { word: 'COLLABORATE', hints: ['Work jointly on an activity', 'Cooperate with others on project'] },
                    { word: 'COMMENCE', hints: ['Begin or start something', 'Initiate or set in motion'] },
                    { word: 'COMPENSATE', hints: ['Give something to make up for loss', 'Recompense for something lost'] },
                    { word: 'COMPLEMENT', hints: ['Complete or enhance by addition', 'Thing that contributes extra features'] },
                    { word: 'COMPREHENSIVE', hints: ['Complete and including everything', 'Thorough and all-inclusive'] },
                    { word: 'CONCEIVE', hints: ['Form idea or plan in mind', 'Create or devise mentally'] },
                    { word: 'CONCURRENT', hints: ['Existing or happening at same time', 'Operating simultaneously'] },
                    { word: 'CONFORM', hints: ['Comply with rules or standards', 'Behave according to accepted norms'] },
                    { word: 'CONSENSUS', hints: ['General agreement among group', 'Collective opinion or position'] },
                    { word: 'CONSTRAINT', hints: ['Limitation or restriction', 'Factor that limits freedom of action'] },
                    { word: 'CONTRAST', hints: ['Compare showing differences', 'State of being strikingly different'] },
                    { word: 'CONTROVERSY', hints: ['Prolonged public disagreement', 'Dispute about opposing opinions'] },
                    { word: 'CONVENTIONAL', hints: ['Based on accepted customs', 'Following traditional standards'] },
                    { word: 'CREDIBLE', hints: ['Able to be believed or trusted', 'Convincing and reliable'] },
                    { word: 'CRUCIAL', hints: ['Extremely important or essential', 'Decisive and critical to outcome'] },
                    { word: 'DEDUCE', hints: ['Arrive at conclusion by reasoning', 'Infer from evidence or premises'] },
                    { word: 'DEFINE', hints: ['State meaning precisely', 'Describe nature or scope exactly'] },
                    { word: 'DEMONSTRATE', hints: ['Clearly show existence or truth', 'Prove by reasoning or evidence'] },
                    { word: 'DENOTE', hints: ['Be sign or indication of', 'Stand as name or symbol for'] },
                    { word: 'DETERIORATE', hints: ['Become progressively worse', 'Decline in quality or condition'] }
                ],
                8: [
                    { word: 'ACKNOWLEDGE', hints: ['Accept or admit existence of', 'Recognize importance or quality'] },
                    { word: 'AMBIGUITY', hints: ['Quality of being open to interpretation', 'Uncertainty of meaning or intention'] },
                    { word: 'ANALOGY', hints: ['Comparison between two things', 'Similarity in some respects'] },
                    { word: 'ANOMALY', hints: ['Something that deviates from normal', 'Irregularity or abnormality'] },
                    { word: 'ASCERTAIN', hints: ['Find out for certain through examination', 'Make sure of or determine'] },
                    { word: 'BENEVOLENT', hints: ['Well-meaning and kindly', 'Showing goodwill and charity'] },
                    { word: 'BUREAUCRACY', hints: ['System of government by departments', 'Complex administrative system'] },
                    { word: 'COGNITION', hints: ['Mental process of acquiring knowledge', 'Act of knowing or perceiving'] },
                    { word: 'COINCIDE', hints: ['Occur at same time or place', 'Correspond in nature or character'] },
                    { word: 'COMMEMORATE', hints: ['Recall and show respect for', 'Mark by ceremony or celebration'] },
                    { word: 'COMPATIBLE', hints: ['Able to exist together harmoniously', 'Consistent and not conflicting'] },
                    { word: 'COMPETENT', hints: ['Having necessary ability or knowledge', 'Adequately qualified or capable'] },
                    { word: 'COMPILATION', hints: ['Collection of items from sources', 'Act of gathering into volume'] },
                    { word: 'COMPLY', hints: ['Act in accordance with request', 'Meet specified standards'] },
                    { word: 'COMPREHENSIVE', hints: ['Including all aspects completely', 'Wide in scope or content'] },
                    { word: 'CONCEIVABLE', hints: ['Capable of being imagined', 'Possible to believe or accept'] },
                    { word: 'CONCURRENT', hints: ['Happening at same time', 'Running parallel in time'] },
                    { word: 'CONNOTATION', hints: ['Idea suggested by word', 'Associated meaning beyond literal'] },
                    { word: 'CONSTITUENT', hints: ['Being part of a whole', 'Member of constituency'] },
                    { word: 'CONTEMPLATE', hints: ['Think deeply and carefully about', 'View or consider with attention'] },
                    { word: 'CORRELATION', hints: ['Mutual relationship between things', 'Statistical measure of connection'] },
                    { word: 'CREDIBILITY', hints: ['Quality of being believable', 'Capacity to be trusted'] },
                    { word: 'CRITERION', hints: ['Principle for judging something', 'Standard of measurement'] },
                    { word: 'DEDICATE', hints: ['Devote time or effort to', 'Set apart for special purpose'] },
                    { word: 'DEFICIENCY', hints: ['Lack or shortage of something', 'State of being inadequate'] }
                ],
                9: [
                    { word: 'ANACHRONISM', hints: ['Thing belonging to wrong period', 'Error in chronological placement'] },
                    { word: 'ARTICULATION', hints: ['Expression of idea in words', 'Clear pronunciation of speech'] },
                    { word: 'ASYMMETRIC', hints: ['Lacking symmetry or balance', 'Not identical on both sides'] },
                    { word: 'CHRONOLOGICAL', hints: ['Arranged in order of time', 'Following sequence of events'] },
                    { word: 'COHERENCE', hints: ['Logical connection of parts', 'Quality of forming unified whole'] },
                    { word: 'COMMEMORATION', hints: ['Act of remembering ceremonially', 'Memorial celebration or observance'] },
                    { word: 'COMPATIBLE', hints: ['Able to coexist without conflict', 'Capable of existing together'] },
                    { word: 'COMPILATION', hints: ['Collection assembled from sources', 'Production by assembling materials'] },
                    { word: 'COMPREHENSION', hints: ['Ability to understand something', 'Mental grasp of meaning'] },
                    { word: 'CONCEIVABLY', hints: ['Within bounds of possibility', 'In imaginable or believable way'] },
                    { word: 'CONNOTATIVE', hints: ['Implying additional meaning', 'Suggesting beyond literal sense'] },
                    { word: 'CONSISTENCY', hints: ['Quality of always behaving same', 'Agreement or harmony of parts'] },
                    { word: 'CONSOLIDATE', hints: ['Make stronger by combining', 'Unite into single whole'] },
                    { word: 'CONTEMPLATE', hints: ['Think about carefully and deeply', 'Consider as possible action'] },
                    { word: 'CONTINUITY', hints: ['Unbroken and consistent existence', 'State of being continuous'] },
                    { word: 'CORRELATION', hints: ['Mutual relationship between variables', 'Reciprocal connection of things'] },
                    { word: 'CREDIBILITY', hints: ['Quality of being trusted', 'Believability and reliability'] },
                    { word: 'CUMULATIVE', hints: ['Increasing by successive additions', 'Growing by accumulation'] },
                    { word: 'DEDICATION', hints: ['Quality of being committed', 'Devotion to task or purpose'] },
                    { word: 'DEFICIENCY', hints: ['Lack of something essential', 'Inadequacy in amount or quality'] },
                    { word: 'DELIBERATE', hints: ['Done consciously and intentionally', 'Careful and unhurried in action'] },
                    { word: 'DEMONSTRATE', hints: ['Clearly show by evidence', 'Prove conclusively by reasoning'] },
                    { word: 'DESIGNATION', hints: ['Official name or title', 'Action of choosing for position'] },
                    { word: 'DICHOTOMY', hints: ['Division into two contrasting parts', 'Split between opposing things'] },
                    { word: 'DIFFERENTIATE', hints: ['Recognize distinction between things', 'Make or become different'] }
                ],
                10: [
                    { word: 'AMBIVALENCE', hints: ['State of having mixed feelings', 'Simultaneous conflicting emotions'] },
                    { word: 'ANTITHESIS', hints: ['Direct opposite of something', 'Contrast of ideas by parallel structure'] },
                    { word: 'ARTICULATION', hints: ['Clear expression of ideas', 'Formation of clear speech sounds'] },
                    { word: 'CHRONOLOGY', hints: ['Arrangement of events in time', 'Science of dating historical events'] },
                    { word: 'COGNITION', hints: ['Mental action of acquiring knowledge', 'Process of understanding and learning'] },
                    { word: 'COLLABORATION', hints: ['Action of working with others', 'Cooperative effort toward goal'] },
                    { word: 'COMMEMORATION', hints: ['Celebration honoring memory', 'Act of remembering formally'] },
                    { word: 'COMPATIBILITY', hints: ['State of being compatible', 'Capability of coexisting harmoniously'] },
                    { word: 'COMPREHENSION', hints: ['Capacity to understand fully', 'Complete mental grasp'] },
                    { word: 'CONNOTATION', hints: ['Implied meaning of word', 'Associated idea beyond definition'] },
                    { word: 'CONSOLIDATION', hints: ['Process of making stronger', 'Combining into unified whole'] },
                    { word: 'CONTEMPLATION', hints: ['Deep reflective thought', 'Meditation or careful consideration'] },
                    { word: 'CONVENTIONAL', hints: ['Following accepted standards', 'Based on general agreement'] },
                    { word: 'CORRELATION', hints: ['Statistical relationship between variables', 'Mutual connection of phenomena'] },
                    { word: 'CUMULATIVE', hints: ['Growing by continuous addition', 'Increasing by successive accumulation'] },
                    { word: 'DELIBERATION', hints: ['Long and careful consideration', 'Formal discussion and debate'] },
                    { word: 'DEMONSTRATION', hints: ['Practical exhibition showing how', 'Proof by showing evidence'] },
                    { word: 'DIFFERENTIATION', hints: ['Process of distinguishing differences', 'Making or becoming distinct'] },
                    { word: 'EGALITARIAN', hints: ['Believing in equal rights for all', 'Promoting social equality'] },
                    { word: 'HEGEMONY', hints: ['Leadership or dominance by one', 'Predominant influence of state'] },
                    { word: 'JUXTAPOSITION', hints: ['Placing things side by side', 'Act of positioning together'] },
                    { word: 'PARADIGM', hints: ['Typical example or pattern', 'Conceptual framework in science'] },
                    { word: 'PHILANTHROPY', hints: ['Desire to promote welfare', 'Generous donation to good causes'] },
                    { word: 'PRAGMATIC', hints: ['Dealing with things practically', 'Concerned with facts not theory'] },
                    { word: 'UBIQUITOUS', hints: ['Present everywhere at once', 'Appearing to be everywhere'] }
                ]
            },
            korean: {
                1: [
                    { word: 'ê³ ì–‘ì´', hints: ['ì•¼ì˜¹í•˜ëŠ” í„¸ë³µìˆ­ì´ ì• ì™„ë™ë¬¼', 'ì¥ë¥¼ ì¡ê³  ìš°ìœ ë¥¼ ì¢‹ì•„í•˜ëŠ” ë„¤ë°œì§ìŠ¹'] },
                    { word: 'ê°•ì•„ì§€', hints: ['ë©ë© ì§–ëŠ” ì‚¬ëŒì˜ ê°€ì¥ ì¹œí•œ ë™ë¬¼ì¹œêµ¬', 'ê¼¬ë¦¬ í”ë“¤ë©° ì£¼ì¸ì—ê²Œ ì¶©ì„±í•˜ëŠ” ë°˜ë ¤ë™ë¬¼'] },
                    { word: 'í–‡ë¹›', hints: ['ë‚®ì— ìš°ë¦¬ì—ê²Œ ë¹›ê³¼ ë”°ìŠ¤í•¨ì„ ì£¼ëŠ” ê²ƒ', 'íƒœì–‘ì—ì„œ ë‚˜ì™€ì„œ ì§€êµ¬ë¥¼ ë°ê²Œ ë§Œë“œëŠ” ì—ë„ˆì§€'] },
                    { word: 'ìë™ì°¨', hints: ['ë°”í€´ ë„¤ ê°œë¡œ ë„ë¡œë¥¼ ë‹¬ë¦¬ëŠ” êµí†µìˆ˜ë‹¨', 'ì—”ì§„ìœ¼ë¡œ ì›€ì§ì´ë©° ì‚¬ëŒì„ íƒœìš°ê³  ë‹¤ë‹ˆëŠ” ê¸°ê³„'] },
                    { word: 'ìƒì', hints: ['ë¬¼ê±´ì„ ë‹´ì•„ë‘ëŠ” ë„¤ëª¨ë‚œ ìš©ê¸°', 'íƒë°°ë‚˜ ì„ ë¬¼ì„ í¬ì¥í•  ë•Œ ì“°ëŠ” ë°•ìŠ¤'] },
                    { word: 'ì—°í•„', hints: ['ë‚˜ë¬´ì™€ í‘ì—°ìœ¼ë¡œ ë§Œë“  í•„ê¸°êµ¬', 'ê¸€ì”¨ë¥¼ ì“°ê³  ì§€ìš¸ ìˆ˜ ìˆëŠ” ë„êµ¬'] },
                    { word: 'ëª¨ì', hints: ['ë¨¸ë¦¬ì— ì“°ëŠ” ì˜ë¥˜ ì•¡ì„¸ì„œë¦¬', 'í–‡ë¹›ì„ ê°€ë¦¬ê³  ë©‹ì„ ë‚´ëŠ” ë¬¼ê±´'] },
                    { word: 'ê°€ë°©', hints: ['ë¬¼ê±´ì„ ë„£ì–´ ë“¤ê³  ë‹¤ë‹ˆëŠ” ìš©í’ˆ', 'ì±…ì´ë‚˜ ì†Œì§€í’ˆì„ ë‹´ëŠ” íœ´ëŒ€ìš© ê°€ì£½ ì œí’ˆ'] },
                    { word: 'ì‹ ë°œ', hints: ['ë°œì— ì‹ ëŠ” ë³´í˜¸ìš© ë¬¼ê±´', 'ê±·ê±°ë‚˜ ë›¸ ë•Œ ë°œì„ ë³´í˜¸í•˜ëŠ” ìš©í’ˆ'] },
                    { word: 'ì±…', hints: ['ê¸€ê³¼ ê·¸ë¦¼ì´ ë‹´ê¸´ ì¢…ì´ ë¬¶ìŒ', 'ì§€ì‹ê³¼ ì´ì•¼ê¸°ë¥¼ ì „ë‹¬í•˜ëŠ” ì¸ì‡„ë¬¼'] },
                    { word: 'ìš°ìœ ', hints: ['í•˜ì–—ê³  ì˜ì–‘ì´ í’ë¶€í•œ ìŒë£Œ', 'ì†Œì—ì„œ ë‚˜ì˜¤ëŠ” ì¹¼ìŠ˜ì´ ë§ì€ ì•¡ì²´'] },
                    { word: 'ì‚¬ê³¼', hints: ['ë¹¨ê°›ê³  ë‹¬ì½¤í•œ ê³¼ì¼', 'ë‚˜ë¬´ì—ì„œ ìë¼ëŠ” ë‘¥ê·¼ ê³¼ì¼'] },
                    { word: 'ë‚˜ë¬´', hints: ['ë¿Œë¦¬ì™€ ì¤„ê¸°ê°€ ìˆëŠ” í° ì‹ë¬¼', 'ìˆ²ì„ ì´ë£¨ëŠ” ëª©ì§ˆì˜ ì‹ë¬¼'] },
                    { word: 'ê½ƒ', hints: ['ì•„ë¦„ë‹µê³  í–¥ê¸°ë¡œìš´ ì‹ë¬¼ì˜ ì¼ë¶€', 'ìƒ‰ê¹”ì´ ì˜ˆìœ ì‹ë¬¼ì˜ ìƒì‹ê¸°ê´€'] },
                    { word: 'ë³„', hints: ['ë°¤í•˜ëŠ˜ì—ì„œ ë°˜ì§ì´ëŠ” ì²œì²´', 'ìš°ì£¼ ê³µê°„ì˜ ë¹›ë‚˜ëŠ” ë¬¼ì²´'] }
                ],
                2: [
                    { word: 'ì§‘', hints: ['ì‚¬ëŒì´ ì‚´ë©´ì„œ ì ì„ ìëŠ” ê±´ë¬¼', 'ê°€ì¡±ì´ ëª¨ì—¬ ìƒí™œí•˜ëŠ” ë”°ëœ»í•œ ê³µê°„'] },
                    { word: 'ë¬¼', hints: ['ëª¨ë“  ìƒëª…ì²´ì—ê²Œ ê¼­ í•„ìš”í•œ íˆ¬ëª…í•œ ì•¡ì²´', 'ê°ˆì¦ì„ í•´ì†Œí•˜ê³  ëª¸ì— ìˆ˜ë¶„ì„ ê³µê¸‰í•˜ëŠ” ê²ƒ'] },
                    { word: 'í–‰ë³µ', hints: ['ë§ˆìŒì´ ì¦ê²ê³  ê¸°ìœ ê°ì •ìƒíƒœ', 'ë§Œì¡±ìŠ¤ëŸ½ê³  ì›ƒìŒì´ ë‚˜ì˜¤ëŠ” ì¢‹ì€ ê¸°ë¶„'] },
                    { word: 'ìŒì•…', hints: ['ì•„ë¦„ë‹¤ìš´ ì†Œë¦¬ì™€ ë¦¬ë“¬ìœ¼ë¡œ ë§Œë“œëŠ” ì˜ˆìˆ ', 'ì•…ê¸°ë‚˜ ëª©ì†Œë¦¬ë¡œ ì—°ì£¼í•˜ëŠ” ë©œë¡œë””'] },
                    { word: 'í•™êµ', hints: ['í•™ìƒë“¤ì´ ê³µë¶€í•˜ëŠ” êµìœ¡ ê¸°ê´€', 'ì„ ìƒë‹˜ì´ ì§€ì‹ì„ ê°€ë¥´ì¹˜ëŠ” ê³³'] },
                    { word: 'ì¹œêµ¬', hints: ['ì„œë¡œ ì¢‹ì•„í•˜ê³  í•¨ê»˜ ë…¸ëŠ” ì‚¬ëŒ', 'ë§ˆìŒì´ í†µí•˜ëŠ” ì†Œì¤‘í•œ ê´€ê³„'] },
                    { word: 'ê°€ì¡±', hints: ['í˜ˆì—°ìœ¼ë¡œ ë§ºì–´ì§„ ì‚¬ëŒë“¤ì˜ ì§‘ë‹¨', 'ë¶€ëª¨ì™€ ìì‹ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ê³µë™ì²´'] },
                    { word: 'ë³‘ì›', hints: ['ì•„í”ˆ ì‚¬ëŒì„ ì¹˜ë£Œí•˜ëŠ” ì˜ë£Œ ì‹œì„¤', 'ì˜ì‚¬ì™€ ê°„í˜¸ì‚¬ê°€ ì¼í•˜ëŠ” ê³³'] },
                    { word: 'ê³µì›', hints: ['ì‚°ì±…í•˜ê³  ì‰´ ìˆ˜ ìˆëŠ” ì•¼ì™¸ ê³µê°„', 'ë‚˜ë¬´ì™€ ì”ë””ê°€ ìˆëŠ” íœ´ì‹ ì¥ì†Œ'] },
                    { word: 'ì‹œì¥', hints: ['ë¬¼ê±´ì„ ì‚¬ê³ íŒŒëŠ” ìƒì—… ì¥ì†Œ', 'ì—¬ëŸ¬ ìƒì ì´ ëª¨ì—¬ ìˆëŠ” ì „í†µì ì¸ ì¥í„°'] },
                    { word: 'ë°”ë‹¤', hints: ['ë„“ê³  ê¹Šì€ ì§  ë¬¼ì´ ìˆëŠ” ê³³', 'íŒŒë„ê°€ ì¹˜ê³  ë¬¼ê³ ê¸°ê°€ ì‚¬ëŠ” ê±°ëŒ€í•œ ìˆ˜ì—­'] },
                    { word: 'í•˜ëŠ˜', hints: ['ë¨¸ë¦¬ ìœ„ì— í¼ì³ì§„ í‘¸ë¥¸ ê³µê°„', 'êµ¬ë¦„ê³¼ ë³„ì´ ìˆëŠ” ëŒ€ê¸°ê¶Œ'] },
                    { word: 'ë‹¬', hints: ['ë°¤ì— í•˜ëŠ˜ì—ì„œ ë¹›ë‚˜ëŠ” ì²œì²´', 'ì§€êµ¬ ì£¼ìœ„ë¥¼ ë„ëŠ” ìì—° ìœ„ì„±'] },
                    { word: 'ë¹„', hints: ['í•˜ëŠ˜ì—ì„œ ë–¨ì–´ì§€ëŠ” ë¬¼ë°©ìš¸', 'êµ¬ë¦„ì—ì„œ ë‚´ë¦¬ëŠ” ë¹—ë¬¼'] },
                    { word: 'ëˆˆ', hints: ['ê²¨ìš¸ì— í•˜ëŠ˜ì—ì„œ ë‚´ë¦¬ëŠ” í•˜ì–€ ê²°ì •', 'ì°¬ ë‚ ì”¨ì— ì–¼ì–´ì„œ ë–¨ì–´ì§€ëŠ” ì–¼ìŒ'] }
                ],
                3: [
                    { word: 'ì»´í“¨í„°', hints: ['ì •ë³´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì „ì ê¸°ê¸°', 'í‚¤ë³´ë“œì™€ ëª¨ë‹ˆí„°ê°€ ìˆëŠ” ë””ì§€í„¸ ì¥ì¹˜'] },
                    { word: 'ë¬´ì§€ê°œ', hints: ['ë¹„ ì˜¨ ë’¤ í•˜ëŠ˜ì— ë‚˜íƒ€ë‚˜ëŠ” ìƒ‰ê¹” ë ', 'ì¼ê³± ê°€ì§€ ìƒ‰ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ì•„ë¦„ë‹¤ìš´ ìì—° í˜„ìƒ'] },
                    { word: 'ìì „ê±°', hints: ['ë‘ ë°”í€´ë¡œ í˜ë‹¬ì„ ë°Ÿì•„ ê°€ëŠ” íƒˆê²ƒ', 'ì¹œí™˜ê²½ì ì¸ ê°œì¸ êµí†µìˆ˜ë‹¨'] },
                    { word: 'ë¶€ì—Œ', hints: ['ìŒì‹ì„ ë§Œë“œëŠ” ì§‘ì•ˆì˜ ê³µê°„', 'ìš”ë¦¬ ë„êµ¬ì™€ ëƒ‰ì¥ê³ ê°€ ìˆëŠ” ë°©'] },
                    { word: 'ì‚¬ì§„', hints: ['ì¹´ë©”ë¼ë¡œ ì°ì€ ì´ë¯¸ì§€', 'ìˆœê°„ì„ ê¸°ë¡í•œ ì‹œê° ìë£Œ'] },
                    { word: 'í•™ìƒ', hints: ['í•™êµì—ì„œ ê³µë¶€í•˜ëŠ” ì‚¬ëŒ', 'ì„ ìƒë‹˜ì—ê²Œ ë°°ìš°ëŠ” ë°°ì›€ì˜ ì£¼ì²´'] },
                    { word: 'ì„ ìƒë‹˜', hints: ['í•™ìƒë“¤ì„ ê°€ë¥´ì¹˜ëŠ” êµìœ¡ì', 'í•™êµì—ì„œ ì§€ì‹ì„ ì „ë‹¬í•˜ëŠ” ì§ì—…ì¸'] },
                    { word: 'ëŒê³ ë˜', hints: ['ì˜ë¦¬í•˜ê³  ì¬ì£¼ê°€ ë§ì€ ë°”ë‹¤ ë™ë¬¼', 'ë¬¼ ë°–ìœ¼ë¡œ ë›°ì–´ì˜¤ë¥´ëŠ” í•´ì–‘ í¬ìœ ë¥˜'] },
                    { word: 'ì½”ë¼ë¦¬', hints: ['ê¸´ ì½”ë¥¼ ê°€ì§„ ê±°ëŒ€í•œ ìœ¡ì§€ ë™ë¬¼', 'ìƒì•„ì™€ í° ê·€ê°€ íŠ¹ì§•ì¸ íšŒìƒ‰ í¬ìœ ë¥˜'] },
                    { word: 'í–‡ì‚´', hints: ['íƒœì–‘ì—ì„œ ë‚˜ì˜¤ëŠ” ë”°ëœ»í•œ ë¹›', 'ì°½ë¬¸ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” ë°ì€ ê´‘ì„ '] },
                    { word: 'ìƒì¼', hints: ['íƒœì–´ë‚œ ë‚ ì„ ê¸°ë…í•˜ëŠ” ë‚ ', 'ì¼€ì´í¬ì™€ ì„ ë¬¼ì„ ë°›ëŠ” íŠ¹ë³„í•œ ë‚ '] },
                    { word: 'ì‚°', hints: ['ë†’ì´ ì†Ÿì•„ì˜¤ë¥¸ ìì—° ì§€í˜•', 'ì •ìƒì— ì˜¬ë¼ê°€ë©´ ê²½ì¹˜ê°€ ì¢‹ì€ ê³³'] },
                    { word: 'ë¹„í–‰ê¸°', hints: ['í•˜ëŠ˜ì„ ë‚˜ëŠ” êµí†µìˆ˜ë‹¨', 'ë‚ ê°œê°€ ë‹¬ë¦° í° íƒˆê²ƒ'] },
                    { word: 'ì¶•êµ¬ê³µ', hints: ['ë°œë¡œ ì°¨ëŠ” ë‘¥ê·¼ ê³µ', 'ìš´ë™ì¥ì—ì„œ ì°¨ë©° ë…¸ëŠ” ê²€ì • í°ìƒ‰ ê³µ'] },
                    { word: 'í”¼ì•„ë…¸', hints: ['ê±´ë°˜ì„ ëˆŒëŸ¬ ì—°ì£¼í•˜ëŠ” ì•…ê¸°', 'ê²€ì€ ê±´ë°˜ê³¼ í° ê±´ë°˜ì´ ìˆëŠ” í° ì•…ê¸°'] }
                ],
                4: [
                    { word: 'ë‚˜ë¹„', hints: ['í™”ë ¤í•œ ë‚ ê°œë¥¼ ê°€ì§„ ê³¤ì¶©', 'ì• ë²Œë ˆì—ì„œ ë³€ì‹ í•œ ì•„ë¦„ë‹¤ìš´ ìƒë¬¼'] },
                    { word: 'ì´ˆì½œë¦¿', hints: ['ë‹¬ì½¤í•œ ê°ˆìƒ‰ ê³¼ì', 'ì¹´ì¹´ì˜¤ë¡œ ë§Œë“  ë§›ìˆëŠ” ê°„ì‹'] },
                    { word: 'ëª¨í—˜', hints: ['ì‹ ë‚˜ê³  ìœ„í—˜í•œ ì—¬í–‰ì´ë‚˜ ê²½í—˜', 'ìš©ê°í•˜ê²Œ ë– ë‚˜ëŠ” ë¯¸ì§€ì˜ ì—¬ì •'] },
                    { word: 'ë†êµ¬ê³µ', hints: ['ê³¨ëŒ€ì— ë„£ëŠ” ì˜¤ë Œì§€ìƒ‰ ê³µ', 'ì½”íŠ¸ì—ì„œ íŠ€ê¸°ë©° ë…¸ëŠ” í° ê³µ'] },
                    { word: 'ìš°ì‚°', hints: ['ë¹„ë¥¼ ë§‰ì•„ì£¼ëŠ” ë„êµ¬', 'ë¨¸ë¦¬ ìœ„ì— í¼ì³ì„œ ì“°ëŠ” ë¹„ ê°€ë¦¬ê°œ'] }
                ],
                5: [
                    { word: 'ê²©ë ¤', hints: ['í˜ì„ ë¶ë‹ì•„ ìš©ê¸°ë¥¼ ì£¼ëŠ” í–‰ìœ„', 'ì–´ë ¤ì›€ ê²ªëŠ” ì´ì—ê²Œ ìœ„ì•ˆ ì£¼ê¸°'] },
                    { word: 'ê²¬í•´', hints: ['ì–´ë–¤ ì¼ì— ëŒ€í•œ ê°œì¸ì  ì˜ê²¬', 'ì‚¬ë¬¼ì„ ë°”ë¼ë³´ëŠ” ê°œì¸ì˜ ê´€ì '] },
                    { word: 'ê²½í—˜', hints: ['ì‹¤ì œë¡œ ê²ªê±°ë‚˜ í•´ë³¸ ì¼', 'ì§ì ‘ ë¶€ë”ªì³ ì–»ì€ ì§€ì‹ì´ë‚˜ ê¸°ìˆ '] },
                    { word: 'ê³„íš', hints: ['ì•ìœ¼ë¡œ í•  ì¼ì„ ë¯¸ë¦¬ ìƒê°í•´ë‘” ê²ƒ', 'ëª©í‘œ ë‹¬ì„± ìœ„í•œ ì²´ê³„ì  ì¤€ë¹„'] },
                    { word: 'ê³ ë¯¼', hints: ['í•´ê²°ì±… ì°¾ìœ¼ë ¤ ê¹Šì´ ìƒê°í•¨', 'ì–´ë ¤ìš´ ë¬¸ì œë¡œ ë§ˆìŒ ê´´ë¡œì›Œí•¨'] },
                    { word: 'ê´€ì‹¬', hints: ['ì–´ë–¤ ê²ƒì— ë§ˆìŒì´ ì ë¦¬ëŠ” ê²ƒ', 'ì£¼ì˜ ê¹Šê²Œ ì‚´í´ë³´ë ¤ëŠ” íƒœë„'] },
                    { word: 'êµìœ¡', hints: ['ì§€ì‹ê³¼ ê¸°ìˆ ì„ ê°€ë¥´ì¹˜ëŠ” í™œë™', 'ì¸ê²©ê³¼ ëŠ¥ë ¥ì„ ê¸°ë¥´ëŠ” ê³¼ì •'] },
                    { word: 'ê·¼ê±°', hints: ['ì£¼ì¥ì´ë‚˜ íŒë‹¨ì˜ ë°”íƒ•ì´ ë˜ëŠ” ê²ƒ', 'ì–´ë–¤ ê²ƒì„ ë’·ë°›ì¹¨í•˜ëŠ” ì´ìœ '] },
                    { word: 'ê¸°ì–µ', hints: ['ê³¼ê±° ê²½í—˜ì„ ë§ˆìŒì— ê°„ì§í•¨', 'ì§€ë‚˜ê°„ ì¼ì„ ë– ì˜¬ë¦¬ëŠ” ëŠ¥ë ¥'] },
                    { word: 'ë…¼ë¦¬', hints: ['íƒ€ë‹¹í•œ ì¶”ë¦¬ì™€ ì´ì¹˜', 'ìƒê°ì´ë‚˜ ë§ì˜ ì˜¬ë°”ë¥¸ íë¦„'] },
                    { word: 'ëŠ¥ë ¥', hints: ['ì¼ì„ í•´ë‚¼ ìˆ˜ ìˆëŠ” í˜', 'ê°€ì§€ê³  ìˆëŠ” ì¬ëŠ¥ì´ë‚˜ ê¸°ìˆ '] },
                    { word: 'ë‹¤ì–‘ì„±', hints: ['ì—¬ëŸ¬ ê°€ì§€ë¡œ ë‹¬ë¼ ë‹¤ì±„ë¡œì›€', 'ë‹¤ë¥¸ ì¢…ë¥˜ê°€ ë§ì´ ì„ì—¬ ìˆìŒ'] },
                    { word: 'ëŒ€í™”', hints: ['ì„œë¡œ ì´ì•¼ê¸°ë¥¼ ì£¼ê³ ë°›ìŒ', 'ë§ˆì£¼ ë³´ë©° ì˜ê²¬ì„ ë‚˜ëˆ„ëŠ” í–‰ìœ„'] },
                    { word: 'ë…ë¦½', hints: ['ë‚¨ì—ê²Œ ì˜ì§€í•˜ì§€ ì•Šê³  í™€ë¡œ ì„¬', 'ìì£¼ì ìœ¼ë¡œ í–‰ë™í•˜ëŠ” ìƒíƒœ'] },
                    { word: 'ë™ì˜', hints: ['ê°™ì€ ì˜ê²¬ì„ì„ ë‚˜íƒ€ëƒ„', 'ì°¬ì„±í•˜ì—¬ ìŠ¹ë‚™í•˜ëŠ” ê²ƒ'] },
                    { word: 'ë¬¸í™”', hints: ['í•œ ì‚¬íšŒì˜ ìƒí™œ ì–‘ì‹ ì „ì²´', 'ì˜ˆìˆ ê³¼ ì‚¬ìƒì˜ ì´ì²´ì  í‘œí˜„'] },
                    { word: 'ë°˜ì„±', hints: ['ìê¸° í–‰ë™ì„ ëŒì´ì¼œ ì‚´í•Œ', 'ì˜ëª»ì„ ë‰˜ìš°ì¹˜ê³  ê³ ì¹˜ë ¤ í•¨'] },
                    { word: 'ë°œì „', hints: ['ë” ë‚˜ì€ ìƒíƒœë¡œ ë‚˜ì•„ê°', 'ë‹¨ê³„ì ìœ¼ë¡œ ì§„ë³´í•˜ê³  í–¥ìƒë¨'] },
                    { word: 'ë³€í™”', hints: ['ë‹¬ë¼ì§€ê±°ë‚˜ ë°”ë€ŒëŠ” í˜„ìƒ', 'ì´ì „ê³¼ ë‹¤ë¥¸ ëª¨ìŠµì´ ë˜ëŠ” ê²ƒ'] },
                    { word: 'ë³µì¡', hints: ['ì—¬ëŸ¬ ìš”ì†Œê°€ ì–½í˜€ ì–´ë ¤ì›€', 'ê°„ë‹¨í•˜ì§€ ì•Šê³  ê¹Œë‹¤ë¡œìš´ ìƒíƒœ'] },
                    { word: 'ë¹„êµ', hints: ['ë‘˜ ì´ìƒì„ ê²¬ì£¼ì–´ ì‚´í•Œ', 'ì°¨ì´ì ê³¼ ê³µí†µì ì„ ì°¾ëŠ” í–‰ìœ„'] },
                    { word: 'ë¹„íŒ', hints: ['ì˜ëª»ì„ ì§€ì í•˜ì—¬ íŒë‹¨í•¨', 'ì˜³ê³  ê·¸ë¦„ì„ ë”°ì ¸ í‰ê°€í•¨'] },
                    { word: 'ìƒìƒ', hints: ['ì‹¤ì œ ì•„ë‹Œ ê²ƒì„ ë§ˆìŒì— ê·¸ë¦¼', 'ë¨¸ë¦¿ì†ìœ¼ë¡œ ì´ë¯¸ì§€ ë§Œë“œëŠ” í™œë™'] },
                    { word: 'ìƒê°', hints: ['ë§ˆìŒì†ìœ¼ë¡œ í—¤ì•„ë¦¬ê³  íŒë‹¨í•¨', 'ì‚¬ê³ í•˜ê³  ì˜ê²¬ì„ í˜•ì„±í•˜ëŠ” ê³¼ì •'] },
                    { word: 'ì„ íƒ', hints: ['ì—¬ëŸ¿ ì¤‘ì—ì„œ ê³¨ë¼ ì •í•¨', 'ê²°ì •ì„ ë‚´ë ¤ í•˜ë‚˜ë¥¼ íƒí•˜ê¸°'] }
                ],
                6: [
                    { word: 'ê°€ëŠ¥ì„±', hints: ['ì–´ë–¤ ì¼ì´ ì‹¤í˜„ë  ìˆ˜ ìˆëŠ” ì„±ì§ˆ', 'ì¼ì–´ë‚  ìˆ˜ ìˆëŠ” ì ì¬ì  ì—¬ì§€'] },
                    { word: 'ê°ì •', hints: ['ë§ˆìŒì†ì— ì¼ì–´ë‚˜ëŠ” ì—¬ëŸ¬ ê¸°ë¶„', 'ì™¸ë¶€ ìê·¹ì— ëŒ€í•œ ì‹¬ë¦¬ì  ë°˜ì‘'] },
                    { word: 'ê°œë…', hints: ['ì‚¬ë¬¼ì´ë‚˜ í˜„ìƒì˜ ì¼ë°˜ì  íŠ¹ì„±', 'ì¶”ìƒì ìœ¼ë¡œ íŒŒì•…í•œ ìƒê°ì˜ í‹€'] },
                    { word: 'ê²°ê³¼', hints: ['ì–´ë–¤ ì›ì¸ìœ¼ë¡œ ìƒê¸´ ìƒíƒœ', 'í–‰ìœ„ë‚˜ ì‚¬ê±´ì˜ ìµœì¢… ì‚°ë¬¼'] },
                    { word: 'ê²½ìŸ', hints: ['ì´ê¸°ë ¤ê³  ì„œë¡œ ê²¨ë£¨ëŠ” ê²ƒ', 'ëª©í‘œ ë‹¬ì„± ìœ„í•´ ë‹¤íˆ¬ëŠ” í–‰ìœ„'] },
                    { word: 'ê³µê°', hints: ['ë‚¨ì˜ ê°ì •ì´ë‚˜ ì˜ê²¬ì— ë™ì¡°í•¨', 'ë‹¤ë¥¸ ì´ì˜ ì²˜ì§€ë¥¼ ì´í•´í•˜ê³  ëŠë‚Œ'] },
                    { word: 'ê´€ì ', hints: ['ì‚¬ë¬¼ì„ ë°”ë¼ë³´ëŠ” ì‹œê°', 'ë¬¸ì œë¥¼ ì´í•´í•˜ëŠ” ì…ì¥ì´ë‚˜ íƒœë„'] },
                    { word: 'ê¸°ì¤€', hints: ['íŒë‹¨ì´ë‚˜ í–‰ë™ì˜ ê·¼ê±°ê°€ ë˜ëŠ” ê²ƒ', 'í‘œì¤€ì´ ë˜ëŠ” ê·œë²”ì´ë‚˜ ì²™ë„'] },
                    { word: 'ë…¼ìŸ', hints: ['ì„œë¡œ ë‹¤ë¥¸ ì˜ê²¬ì„ ì£¼ì¥í•˜ë©° ë‹¤íˆ¼', 'ì§„ë¦¬ë¥¼ ì°¾ê¸° ìœ„í•œ í† ë¡ ê³¼ ë…¼ì˜'] },
                    { word: 'ëŒ€ì•ˆ', hints: ['ê¸°ì¡´ ë°©ë²• ëŒ€ì‹  ì œì‹œí•˜ëŠ” ë°©ì±…', 'ë‹¤ë¥¸ ê°€ëŠ¥ì„±ì„ ê°€ì§„ ì„ íƒì§€'] },
                    { word: 'ë„ì „', hints: ['ì–´ë ¤ìš´ ì¼ì— ë§ì„œ ì‹œë„í•¨', 'ìƒˆë¡œìš´ ëª©í‘œë¥¼ í–¥í•´ ë‚˜ì•„ê°€ê¸°'] },
                    { word: 'ë…ì°½ì„±', hints: ['ë‚¨ì„ ëª¨ë°©í•˜ì§€ ì•Šì€ ìƒˆë¡œì›€', 'ìê¸°ë§Œì˜ ê³ ìœ í•œ íŠ¹ì„±ê³¼ ì°½ì˜'] },
                    { word: 'ë™ê¸°', hints: ['ì–´ë–¤ ì¼ì„ í•˜ê²Œ í•˜ëŠ” ê³„ê¸°', 'í–‰ë™ì„ ì¼ìœ¼í‚¤ëŠ” ë‚´ì  ì›ì¸'] },
                    { word: 'ëª©ì ', hints: ['ì´ë£¨ë ¤ê³  í•˜ëŠ” ì¼ì˜ ëª©í‘œ', 'í–‰ìœ„ê°€ ì§€í–¥í•˜ëŠ” ìµœì¢… ì§€ì '] },
                    { word: 'ë°˜ì‘', hints: ['ìê·¹ì— ëŒ€ì‘í•˜ì—¬ ì¼ì–´ë‚˜ëŠ” í˜„ìƒ', 'ì–´ë–¤ ì‘ìš©ì— ëŒ€í•œ ë˜ë°›ìŒ'] },
                    { word: 'ë¶„ì„', hints: ['ë³µì¡í•œ ê²ƒì„ ë‚˜ëˆ„ì–´ ì‚´í•Œ', 'êµ¬ì„± ìš”ì†Œë¥¼ ì²´ê³„ì ìœ¼ë¡œ ì—°êµ¬í•¨'] },
                    { word: 'ìƒí™©', hints: ['ì–´ë–¤ ì¼ì´ ì²˜í•œ í˜•í¸ì´ë‚˜ ì²˜ì§€', 'ì£¼ë³€ ì—¬ê±´ê³¼ ì¡°ê±´ì˜ ì´ì²´'] },
                    { word: 'ì‹ ë…', hints: ['êµ³ê²Œ ë¯¿ëŠ” ë§ˆìŒì´ë‚˜ ìƒê°', 'í™•ê³ í•œ ë¯¿ìŒê³¼ ê°€ì¹˜ê´€'] },
                    { word: 'ì‹¤ì²œ', hints: ['ìƒê°í•œ ë°”ë¥¼ ì‹¤ì œë¡œ í–‰í•¨', 'ì´ë¡ ì„ êµ¬ì²´ì  í–‰ë™ìœ¼ë¡œ ì˜®ê¹€'] },
                    { word: 'ì—°êµ¬', hints: ['ì–´ë–¤ ê²ƒì„ ê¹Šì´ ì¡°ì‚¬í•˜ê³  ìƒê°í•¨', 'í•™ë¬¸ì ìœ¼ë¡œ íƒêµ¬í•˜ê³  ê²€ì¦í•¨'] },
                    { word: 'ì˜í–¥', hints: ['ë‹¤ë¥¸ ê²ƒì— ë¯¸ì¹˜ëŠ” ì‘ìš©ì´ë‚˜ íš¨ê³¼', 'ë³€í™”ë¥¼ ì¼ìœ¼í‚¤ëŠ” í˜ì´ë‚˜ ê²°ê³¼'] },
                    { word: 'ì›ë¦¬', hints: ['ì‚¬ë¬¼ì˜ ê·¼ë³¸ì´ ë˜ëŠ” ë²•ì¹™', 'í˜„ìƒì„ ì„¤ëª…í•˜ëŠ” ê¸°ë³¸ ì´ì¹˜'] },
                    { word: 'ì´í•´', hints: ['ê¹¨ë‹«ê³  ì•Œì•„ì„œ ë°›ì•„ë“¤ì„', 'ì§€ì‹ì´ë‚˜ ì˜ë¯¸ë¥¼ íŒŒì•…í•˜ëŠ” ê²ƒ'] },
                    { word: 'ì¸ì‹', hints: ['ì‚¬ë¬¼ì„ ë¶„ë³„í•˜ê³  íŒë‹¨í•˜ì—¬ ì•', 'ì˜ì‹ì ìœ¼ë¡œ ì§€ê°í•˜ê³  ì´í•´í•¨'] },
                    { word: 'ììœ¨', hints: ['ìŠ¤ìŠ¤ë¡œ ê·œìœ¨í•˜ê³  í†µì œí•¨', 'ì™¸ë¶€ ê°„ì„­ ì—†ì´ ìê¸° ì£¼ë„ì ì„'] }
                ],
                7: [
                    { word: 'ê°€ì¹˜ê´€', hints: ['ë¬´ì—‡ì´ ì¤‘ìš”í•œì§€ì— ëŒ€í•œ ê´€ì ', 'ì¸ìƒê³¼ ì„¸ê³„ë¥¼ ëŒ€í•˜ëŠ” ê¸°ë³¸ íƒœë„'] },
                    { word: 'ê°ˆë“±', hints: ['ì„œë¡œ ëŒ€ë¦½í•˜ì—¬ ì¶©ëŒí•˜ëŠ” ìƒíƒœ', 'ëª¨ìˆœë˜ëŠ” ìš”ì†Œ ê°„ì˜ ê¸´ì¥ ê´€ê³„'] },
                    { word: 'ê°ê´€ì„±', hints: ['ì£¼ê´€ì„ ë°°ì œí•œ ê³µì •í•œ íƒœë„', 'í¸ê²¬ ì—†ì´ ì‚¬ì‹¤ì„ ëŒ€í•˜ëŠ” ìì„¸'] },
                    { word: 'ê²½í–¥', hints: ['ì–´ë–¤ ë°©í–¥ìœ¼ë¡œ ê¸°ìš¸ì–´ì§€ëŠ” ì„±ì§ˆ', 'ì¼ì •í•œ ë°©í–¥ì„±ì„ ë ëŠ” ì¶”ì„¸'] },
                    { word: 'ê³µì •ì„±', hints: ['ê³µí‰í•˜ê³  ì˜¬ë°”ë¥¸ ì„±ì§ˆ', 'í¸íŒŒì ì´ì§€ ì•Šê³  ì •ë‹¹í•œ íƒœë„'] },
                    { word: 'ê³¼ì •', hints: ['ì¼ì´ ì§„í–‰ë˜ì–´ ê°€ëŠ” ê²½ë¡œ', 'ì‹œì‘ë¶€í„° ëê¹Œì§€ì˜ ë‹¨ê³„ì  íë¦„'] },
                    { word: 'ê¸°ëŒ€', hints: ['ì–´ë–¤ ì¼ì´ ì´ë£¨ì–´ì§€ê¸¸ ë°”ëŒ', 'ì•ìœ¼ë¡œ ë  ì¼ì— ëŒ€í•œ í¬ë§'] },
                    { word: 'ë…¼ê±°', hints: ['ì£¼ì¥ì„ ë’·ë°›ì¹¨í•˜ëŠ” ê·¼ê±°', 'ë…¼ë¦¬ì  ì¶”ë¡ ì˜ ë°”íƒ•ì´ ë˜ëŠ” ì´ìœ '] },
                    { word: 'ëŒ€ë¦½', hints: ['ì„œë¡œ ë§ì„œ ë°˜ëŒ€í•˜ëŠ” ê´€ê³„', 'ìƒë°˜ëœ ì…ì¥ì—ì„œ ì¶©ëŒí•˜ëŠ” ê²ƒ'] },
                    { word: 'ë„ë•', hints: ['ì‚¬ëŒì´ ì§€ì¼œì•¼ í•  ë°”ë¥¸ ë„ë¦¬', 'ì„ ê³¼ ì•…ì„ êµ¬ë³„í•˜ëŠ” ê°€ì¹˜ ê·œë²”'] },
                    { word: 'ë…ìì„±', hints: ['í™€ë¡œ ë…íŠ¹í•œ ì„±ì§ˆì´ë‚˜ íŠ¹ì„±', 'ë‹¤ë¥¸ ê²ƒê³¼ êµ¬ë³„ë˜ëŠ” ê³ ìœ í•¨'] },
                    { word: 'ë™ì§ˆì„±', hints: ['ë³¸ì§ˆì´ ê°™ê±°ë‚˜ ë¹„ìŠ·í•œ ì„±ì§ˆ', 'ê³µí†µë˜ëŠ” íŠ¹ì„±ì„ ê°€ì§„ ìƒíƒœ'] },
                    { word: 'ëª¨ìˆœ', hints: ['ì•ë’¤ê°€ ë§ì§€ ì•Šê³  ì–´ê¸‹ë‚¨', 'ë…¼ë¦¬ì ìœ¼ë¡œ ì–‘ë¦½í•  ìˆ˜ ì—†ëŠ” ê´€ê³„'] },
                    { word: 'ë°˜ë°•', hints: ['ì˜ëª»ëœ ì£¼ì¥ì„ ë…¼ë¦¬ì ìœ¼ë¡œ ê¹¨ëœ¨ë¦¼', 'ê·¼ê±° ë“¤ì–´ ìƒëŒ€ ì˜ê²¬ ë¶€ì •í•˜ê¸°'] },
                    { word: 'ë³€ë™', hints: ['ì •ë„ë‚˜ ìƒíƒœê°€ ë°”ë€Œì–´ ë‹¬ë¼ì§', 'ì¼ì •ì¹˜ ì•Šê³  ì˜¤ë¥´ë‚´ë¦¬ëŠ” í˜„ìƒ'] },
                    { word: 'ë³¸ì§ˆ', hints: ['ì‚¬ë¬¼ì˜ ê·¼ë³¸ì´ ë˜ëŠ” ì„±ì§ˆ', 'ê²‰ëª¨ìŠµ ì•„ë‹Œ ì§„ì§œ ì‹¤ì²´'] },
                    { word: 'ë¶„ë¥˜', hints: ['ì¢…ë¥˜ì— ë”°ë¼ ê°€ë¥´ëŠ” ê²ƒ', 'ê³µí†µ íŠ¹ì„±ìœ¼ë¡œ ë¬¶ì–´ ë‚˜ëˆ„ê¸°'] },
                    { word: 'ë¹„ìœ ', hints: ['ë‹¤ë¥¸ ê²ƒì— ë¹—ëŒ€ì–´ í‘œí˜„í•¨', 'ìœ ì‚¬ì„±ìœ¼ë¡œ ì˜ë¯¸ ì „ë‹¬í•˜ê¸°'] },
                    { word: 'ì‚¬ê³ ë°©ì‹', hints: ['ìƒê°í•˜ëŠ” ë°©ë²•ì´ë‚˜ íƒœë„', 'ë¬¸ì œ ì ‘ê·¼í•˜ëŠ” ì •ì‹ ì  í‹€'] },
                    { word: 'ìƒê´€ê´€ê³„', hints: ['ë‘˜ ì´ìƒì´ ì„œë¡œ ê´€ë ¨ë¨', 'ë³€ì¸ ê°„ì˜ ì—°ê´€ì„±ì´ë‚˜ ìƒí˜¸ì‘ìš©'] },
                    { word: 'ì„¤ë“', hints: ['ì´ì¹˜ë¡œ ê¹¨ìš°ì³ ë™ì˜í•˜ê²Œ í•¨', 'ë…¼ë¦¬ì™€ ì¦ê±°ë¡œ ë§ˆìŒ ì›€ì§ì´ê¸°'] },
                    { word: 'ì‹œê°', hints: ['ì‚¬ë¬¼ì„ ë³´ëŠ” ê´€ì ì´ë‚˜ íƒœë„', 'íŠ¹ì • ì…ì¥ì—ì„œ ë°”ë¼ë³´ëŠ” ë°©ì‹'] },
                    { word: 'ì‹¤í—˜', hints: ['ì´ë¡ ì„ ì‹¤ì œë¡œ ê²€ì¦í•˜ëŠ” í–‰ìœ„', 'ê°€ì„¤ í™•ì¸ ìœ„í•œ ì²´ê³„ì  ì‹œë„'] },
                    { word: 'ì—­ì„¤', hints: ['ê²‰ìœ¼ë¡œëŠ” ëª¨ìˆœë˜ë‚˜ ì§„ë¦¬ ë‹´ì€ ë§', 'ë°˜ëŒ€ë¡œ í‘œí˜„í•´ ê°•ì¡°í•˜ëŠ” ìˆ˜ì‚¬ë²•'] },
                    { word: 'ì˜ë¯¸', hints: ['ë§ì´ë‚˜ ê¸€ì´ ë‚˜íƒ€ë‚´ëŠ” ëœ»', 'ì¡´ì¬ë‚˜ í–‰ìœ„ê°€ ì§€ë‹ˆëŠ” ê°€ì¹˜'] }
                ],
                8: [
                    { word: 'ê°€ì„¤', hints: ['ì•„ì§ ì¦ëª…ë˜ì§€ ì•Šì€ ì¶”ì •', 'ê²€ì¦ì„ ìœ„í•´ ì„ì‹œë¡œ ì„¤ì •í•œ ëª…ì œ'] },
                    { word: 'ê°ê´€ì ', hints: ['ì£¼ê´€ì„ ë°°ì œí•˜ê³  ì‚¬ì‹¤ì— ì…ê°í•œ', 'ê°œì¸ ê°ì • ì—†ì´ ê³µì •í•˜ê²Œ íŒë‹¨í•˜ëŠ”'] },
                    { word: 'ê·¼ë³¸ì ', hints: ['ì‚¬ë¬¼ì˜ ë¿Œë¦¬ê°€ ë˜ëŠ” ê¸°ì´ˆì ì¸', 'ë³¸ì§ˆì ì´ê³  í•µì‹¬ì ì¸ ì„±ì§ˆì˜'] },
                    { word: 'ë…¼ë¦¬ì ', hints: ['ì´ì¹˜ì— ë§ê³  ì²´ê³„ì ì¸', 'í•©ë¦¬ì  ì¶”ë¡  ê³¼ì •ì„ ë”°ë¥´ëŠ”'] },
                    { word: 'ë‹¤ë©´ì ', hints: ['ì—¬ëŸ¬ ì¸¡ë©´ì„ ê°€ì§„ ë³µí•©ì ì¸', 'ë‹¤ì–‘í•œ ê°ë„ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ”'] },
                    { word: 'ëŒ€ì¡°ì ', hints: ['ì„œë¡œ ëšœë ·í•˜ê²Œ ë°˜ëŒ€ë˜ëŠ”', 'ì°¨ì´ê°€ ë‘ë“œëŸ¬ì§€ê²Œ ëŒ€ë¹„ë˜ëŠ”'] },
                    { word: 'ë…ì°½ì ', hints: ['ë‚¨ì˜ ê²ƒì„ ëª¨ë°©í•˜ì§€ ì•Šì€ ìƒˆë¡œìš´', 'ìê¸°ë§Œì˜ ê³ ìœ í•œ ì°½ì˜ì„± ìˆëŠ”'] },
                    { word: 'ë§¥ë½', hints: ['ì•ë’¤ ì—°ê²°ëœ íë¦„ì´ë‚˜ ì¤„ê±°ë¦¬', 'ë¬¸ì¥ì´ë‚˜ ì‚¬ê±´ì˜ ì „í›„ ê´€ê³„'] },
                    { word: 'ëª¨í˜¸ì„±', hints: ['ëœ»ì´ ë¶„ëª…í•˜ì§€ ì•Šì€ ì„±ì§ˆ', 'ëª…í™•í•˜ì§€ ì•Šê³  ì• ë§¤í•œ íŠ¹ì„±'] },
                    { word: 'ë³´í¸ì„±', hints: ['ë„ë¦¬ ê³µí†µë˜ê²Œ ì ìš©ë˜ëŠ” ì„±ì§ˆ', 'íŠ¹ìˆ˜í•˜ì§€ ì•Šê³  ì¼ë°˜ì ì¸ íŠ¹ì„±'] },
                    { word: 'ë¶„ì„ì ', hints: ['ì „ì²´ë¥¼ ë‚˜ëˆ„ì–´ ì‚´í”¼ëŠ”', 'ìš”ì†Œë³„ë¡œ ì„¸ë°€íˆ ê²€í† í•˜ëŠ”'] },
                    { word: 'ë¹„íŒì ', hints: ['ì˜³ê³  ê·¸ë¦„ì„ ë”°ì ¸ íŒë‹¨í•˜ëŠ”', 'ë¬´ë¹„íŒì  ìˆ˜ìš© ê±°ë¶€í•˜ê³  ê²€ì¦í•˜ëŠ”'] },
                    { word: 'ìƒëŒ€ì ', hints: ['ì ˆëŒ€ì ì´ì§€ ì•Šê³  ê´€ê³„ì— ë”°ë¥¸', 'ë¹„êµ ëŒ€ìƒì— ì˜í•´ ë‹¬ë¼ì§€ëŠ”'] },
                    { word: 'ì„±ì°°', hints: ['ìê¸° ë‚´ë©´ì„ ê¹Šì´ ëŒì•„ë´„', 'ë¹„íŒì ìœ¼ë¡œ ìì‹ ì„ ë°˜ì„±í•˜ê¸°'] },
                    { word: 'ìˆ˜ìš©', hints: ['ë°›ì•„ë“¤ì´ê³  ì¸ì •í•˜ëŠ” ê²ƒ', 'ê±°ë¶€í•˜ì§€ ì•Šê³  í¬ìš©í•˜ëŠ” íƒœë„'] },
                    { word: 'ì‹¤ì§ˆì ', hints: ['í˜•ì‹ë³´ë‹¤ ë‚´ìš©ì´ ìˆëŠ”', 'ì‹¤ì œë¡œ íš¨ê³¼ ìˆê³  ìœ ìš©í•œ'] },
                    { word: 'ì—­ë™ì ', hints: ['í™œë°œí•˜ê²Œ ì›€ì§ì´ê³  ë³€í™”í•˜ëŠ”', 'ì—ë„ˆì§€ ë„˜ì¹˜ë©° ë°œì „í•˜ëŠ”'] },
                    { word: 'ì˜ˆì¸¡', hints: ['ë¯¸ë˜ ì¼ì„ ë¯¸ë¦¬ í—¤ì•„ë ¤ ì•', 'ê´€ì°°ê³¼ ë¶„ì„ìœ¼ë¡œ ì•ë‚  ì¶”ì •í•˜ê¸°'] },
                    { word: 'ìœ ì¶”', hints: ['ë¹„ìŠ·í•œ ê²ƒìœ¼ë¡œ ë¯¸ë£¨ì–´ ì§ì‘í•¨', 'ìœ ì‚¬ì„± ë°”íƒ•ìœ¼ë¡œ ì¶”ë¡ í•˜ëŠ” ë°©ë²•'] },
                    { word: 'ì€ìœ ', hints: ['ì§ì ‘ ë§í•˜ì§€ ì•Šê³  ë¹—ëŒ€ì–´ í‘œí˜„', 'ìœ ì‚¬ì„±ìœ¼ë¡œ ì˜ë¯¸ ì „ì´í•˜ëŠ” ë¹„ìœ '] },
                    { word: 'ì´ë¡ ', hints: ['ì‚¬ë¬¼ í˜„ìƒì„ ì„¤ëª…í•˜ëŠ” ì²´ê³„', 'ê²½í—˜ì„ ì¼ë°˜í™”í•œ ì§€ì‹ì˜ í‹€'] },
                    { word: 'ì¸ê³¼', hints: ['ì›ì¸ê³¼ ê²°ê³¼ì˜ ê´€ê³„', 'í•˜ë‚˜ê°€ ë‹¤ë¥¸ ê²ƒì„ ì¼ìœ¼í‚¤ëŠ” ì—°ê²°'] },
                    { word: 'ì¼ê´€ì„±', hints: ['ì²˜ìŒë¶€í„° ëê¹Œì§€ í•œê²°ê°™ìŒ', 'ëª¨ìˆœ ì—†ì´ í†µì¼ëœ íƒœë„ ìœ ì§€'] },
                    { word: 'ì „ì œ', hints: ['ê²°ë¡  ì´ëŒì–´ë‚´ëŠ” ê·¼ê±° ëª…ì œ', 'ì¶”ë¡ ì˜ ì¶œë°œì ì´ ë˜ëŠ” ê°€ì •'] },
                    { word: 'ì •ë‹¹í™”', hints: ['ì˜³ë‹¤ê³  ì¸ì •ë°›ê²Œ ë§Œë“œëŠ” ê²ƒ', 'ë…¼ë¦¬ì  ê·¼ê±°ë¡œ íƒ€ë‹¹ì„± ì…ì¦í•˜ê¸°'] }
                ],
                9: [
                    { word: 'ê°€ì •', hints: ['ì„ì‹œë¡œ ì°¸ì´ë¼ ì¸ì •í•˜ê³  ë‚´ì„¸ì›€', 'ì¦ëª… ì—†ì´ ì „ì œë¡œ ì‚¼ëŠ” ëª…ì œ'] },
                    { word: 'ê´€ë…', hints: ['ë§ˆìŒì†ì— ë– ì˜¤ë¥´ëŠ” ìƒê°ì´ë‚˜ ê°œë…', 'ì¶”ìƒì ìœ¼ë¡œ íŒŒì•…í•œ ì‚¬ìœ ì˜ ë‚´ìš©'] },
                    { word: 'ê·œë²”', hints: ['ì‚¬íšŒ êµ¬ì„±ì›ì´ ë”°ë¼ì•¼ í•  ê¸°ì¤€', 'í–‰ìœ„ë¥¼ ì œì•½í•˜ëŠ” ì‚¬íšŒì  ê·œì¹™'] },
                    { word: 'ê·€ë‚©', hints: ['ê°œë³„ ì‚¬ì‹¤ì—ì„œ ì¼ë°˜ ì›ë¦¬ ë„ì¶œ', 'ê´€ì°°ë¡œë¶€í„° ë²•ì¹™ ì´ëŒì–´ë‚´ëŠ” ì¶”ë¡ '] },
                    { word: 'ë…¼ì¦', hints: ['ê·¼ê±° ë“¤ì–´ ì£¼ì¥ì˜ íƒ€ë‹¹ì„± ì…ì¦', 'ë…¼ë¦¬ì ìœ¼ë¡œ ì¦ëª…í•˜ëŠ” ê³¼ì •'] },
                    { word: 'ëŒ€ì•ˆì ', hints: ['ê¸°ì¡´ê³¼ ë‹¤ë¥¸ ìƒˆë¡œìš´ ë°©ì‹ì˜', 'ëŒ€ì²´ ê°€ëŠ¥í•œ ì„ íƒì§€ë¥¼ ì œì‹œí•˜ëŠ”'] },
                    { word: 'ë„ì‹', hints: ['ë³µì¡í•œ ê²ƒì„ ê°„ë‹¨íˆ ë‚˜íƒ€ë‚¸ ê·¸ë¦¼', 'ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬í•œ ê°œë…ì  í‹€'] },
                    { word: 'ëª…ì œ', hints: ['ì°¸ ê±°ì§“ íŒë‹¨ ê°€ëŠ¥í•œ ë¬¸ì¥', 'ë…¼ë¦¬ì  íŒë‹¨ì˜ ëŒ€ìƒì´ ë˜ëŠ” ì§„ìˆ '] },
                    { word: 'ëª¨ë¸', hints: ['ì‹¤ì œë¥¼ ë‹¨ìˆœí™”í•˜ì—¬ ë‚˜íƒ€ë‚¸ ê²ƒ', 'ì´ë¡ ì  ì„¤ëª…ì„ ìœ„í•œ ì¶”ìƒì  í‹€'] },
                    { word: 'ë³´í¸ì ', hints: ['ëª¨ë“  ê²½ìš°ì— ê³µí†µìœ¼ë¡œ ì ìš©ë˜ëŠ”', 'íŠ¹ìˆ˜ì„± ë„˜ì–´ì„  ì¼ë°˜ì  ì„±ì§ˆì˜'] },
                    { word: 'ë¶„ì„', hints: ['ì „ì²´ë¥¼ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ì‚´í•Œ', 'êµ¬ì„± ìš”ì†Œë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê²€í† í•¨'] },
                    { word: 'ë¹„íŒ', hints: ['ì˜³ê³  ê·¸ë¦„ì„ íŒë‹¨í•˜ê³  í‰ê°€í•¨', 'ê·¼ê±° ìˆê²Œ ì˜ëª»ì„ ì§€ì í•˜ê¸°'] },
                    { word: 'ì‚¬ìœ ', hints: ['ì´ì¹˜ë¥¼ ë”°ì ¸ ìƒê°í•˜ëŠ” í™œë™', 'ë…¼ë¦¬ì ìœ¼ë¡œ ì¶”ë¡ í•˜ê³  íŒë‹¨í•˜ê¸°'] },
                    { word: 'ìƒì§•', hints: ['ì¶”ìƒì  ì˜ë¯¸ë¥¼ êµ¬ì²´ë¬¼ë¡œ ë‚˜íƒ€ëƒ„', 'ê¹Šì€ ëœ»ì„ ê°„ì ‘ì ìœ¼ë¡œ ë“œëŸ¬ë‚´ê¸°'] },
                    { word: 'ì„±ì°°ì ', hints: ['ìê¸° ìì‹ ì„ ë¹„íŒì ìœ¼ë¡œ ëŒì•„ë³´ëŠ”', 'ê¹Šì´ ë°˜ì„±í•˜ê³  í†µì°°í•˜ëŠ”'] },
                    { word: 'ìˆ˜ì‚¬', hints: ['ë§ì´ë‚˜ ê¸€ì„ íš¨ê³¼ì ìœ¼ë¡œ í‘œí˜„í•¨', 'ì„¤ë“ë ¥ ë†’ì´ëŠ” ì–¸ì–´ ê¸°ë²•'] },
                    { word: 'ì‹¤ì¬', hints: ['ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ” ê²ƒ', 'ê°ê´€ì ìœ¼ë¡œ ìˆëŠ” ì‚¬ë¬¼ ìì²´'] },
                    { word: 'ì–‘ìƒ', hints: ['ë‚˜íƒ€ë‚˜ëŠ” ëª¨ì–‘ì´ë‚˜ í˜•íƒœ', 'ì‚¬ë¬¼ì´ ë“œëŸ¬ë‚˜ëŠ” ì—¬ëŸ¬ ëª¨ìŠµ'] },
                    { word: 'ì—°ì—­', hints: ['ì¼ë°˜ ì›ë¦¬ë¡œ ê°œë³„ ê²°ë¡  ë„ì¶œ', 'ì „ì œë¡œë¶€í„° í•„ì—°ì  ê²°ê³¼ ì´ëŒê¸°'] },
                    { word: 'ì˜¤ë¥˜', hints: ['ì˜ëª» ìƒê°í•˜ê±°ë‚˜ íŒë‹¨í•œ ê²ƒ', 'ë…¼ë¦¬ì ìœ¼ë¡œ íƒ€ë‹¹í•˜ì§€ ì•Šì€ ì¶”ë¡ '] },
                    { word: 'ìœ í˜•', hints: ['ê³µí†µëœ ì„±ì§ˆë¡œ ë¬¶ì€ ê°ˆë˜', 'íŠ¹ì§•ì— ë”°ë¼ ë¶„ë¥˜í•œ ì¢…ë¥˜'] },
                    { word: 'ì´ë…', hints: ['ì´ìƒì ìœ¼ë¡œ ì¶”êµ¬í•˜ëŠ” ê´€ë…', 'ì‚¬íšŒë‚˜ ì •ì¹˜ì˜ ê·¼ë³¸ ì‚¬ìƒ'] },
                    { word: 'ì¸ì‹ë¡ ', hints: ['ì§€ì‹ì˜ ë³¸ì§ˆê³¼ í•œê³„ ì—°êµ¬í•˜ëŠ” í•™ë¬¸', 'ì•ì˜ ê·¼ì›ê³¼ íƒ€ë‹¹ì„± ë‹¤ë£¨ëŠ” ì² í•™'] },
                    { word: 'ì „ê°œ', hints: ['ì°¨ë¡€ë¡œ í¼ì³ ë‚˜íƒ€ë‚´ëŠ” ê²ƒ', 'ë…¼ë¦¬ì ìœ¼ë¡œ ë°œì „ì‹œì¼œ ë‚˜ê°€ê¸°'] },
                    { word: 'ì²´ê³„', hints: ['ì¼ì •í•œ ì›ë¦¬ë¡œ ì¡°ì§ëœ ì „ì²´', 'í†µì¼ì„± ìˆê²Œ êµ¬ì„±ëœ ì§ˆì„œ'] }
                ],
                10: [
                    { word: 'ê°€ì¹˜íŒë‹¨', hints: ['ì¢‹ê³  ë‚˜ì¨ì„ í‰ê°€í•˜ì—¬ ê²°ì •í•¨', 'ë„ë•ì  ê¸°ì¤€ìœ¼ë¡œ ì˜³ê³  ê·¸ë¦„ ê°€ë¦¬ê¸°'] },
                    { word: 'ê°œë…í™”', hints: ['ì¶”ìƒì  ìƒê°ìœ¼ë¡œ ë§Œë“œëŠ” ê³¼ì •', 'ì¼ë°˜ì  íŠ¹ì„±ì„ ë½‘ì•„ ì •ì˜í•˜ê¸°'] },
                    { word: 'ê´€ë…ë¡ ', hints: ['ì •ì‹ ì´ ë¬¼ì§ˆë³´ë‹¤ ê·¼ë³¸ì´ë¼ëŠ” ì² í•™', 'ì˜ì‹ì´ ì‹¤ì¬ì˜ ë³¸ì§ˆì´ë¼ëŠ” ì‚¬ìƒ'] },
                    { word: 'ê·€ë‚©ë²•', hints: ['ê°œë³„ ì‚¬ë¡€ë¡œ ì¼ë°˜ ë²•ì¹™ ì´ë„ëŠ” ë°©ë²•', 'ê´€ì°°ê³¼ ê²½í—˜ì—ì„œ ì¶œë°œí•˜ëŠ” ì¶”ë¡ '] },
                    { word: 'ë…¼ë¦¬ì„±', hints: ['ì´ì¹˜ì— ë§ê³  ì²´ê³„ì ì¸ ì„±ì§ˆ', 'íƒ€ë‹¹í•œ ì¶”ë¡  ê³¼ì •ì„ ë”°ë¥´ëŠ” íŠ¹ì„±'] },
                    { word: 'ëŒ€ë¦½í•­', hints: ['ì„œë¡œ ë°˜ëŒ€ë˜ëŠ” í•œ ìŒì˜ ê°œë…', 'ìƒë°˜ëœ ì„±ì§ˆë¡œ ëŒ€ì¡°ë˜ëŠ” ë‘ ìš”ì†Œ'] },
                    { word: 'ë„ì‹í™”', hints: ['ë³µì¡í•œ ë‚´ìš©ì„ ê°„ëµíˆ ë‚˜íƒ€ëƒ„', 'ì²´ê³„ì  í‹€ë¡œ ë‹¨ìˆœí™”í•˜ì—¬ ì •ë¦¬í•¨'] },
                    { word: 'ëª…ì œí™”', hints: ['ìƒê°ì„ íŒë‹¨ ê°€ëŠ¥í•œ ë¬¸ì¥ìœ¼ë¡œ ë§Œë“¦', 'ì£¼ì¥ì„ ë…¼ë¦¬ì  í˜•ì‹ìœ¼ë¡œ í‘œí˜„í•˜ê¸°'] },
                    { word: 'ëª¨ìˆœìœ¨', hints: ['ë™ì‹œì— ì°¸ê³¼ ê±°ì§“ì¼ ìˆ˜ ì—†ë‹¤ëŠ” ì›ë¦¬', 'ë…¼ë¦¬í•™ì˜ ê¸°ë³¸ ë²•ì¹™ ì¤‘ í•˜ë‚˜'] },
                    { word: 'ë³´í¸ì„±', hints: ['ëª¨ë“  ê²½ìš°ì— ì ìš©ë˜ëŠ” ì¼ë°˜ì  ì„±ì§ˆ', 'íŠ¹ìˆ˜ì„±ì„ ì´ˆì›”í•œ ê³µí†µëœ íŠ¹ì„±'] },
                    { word: 'ë¶„ì„ì² í•™', hints: ['ì–¸ì–´ ë¶„ì„ í†µí•´ ì² í•™ ë¬¸ì œ í•´ê²°', 'ë…¼ë¦¬ì  ëª…ë£Œí•¨ ì¶”êµ¬í•˜ëŠ” í˜„ëŒ€ ì² í•™'] },
                    { word: 'ë¹„íŒì´ë¡ ', hints: ['ì‚¬íšŒ í˜„ì‹¤ì„ ë¹„íŒì ìœ¼ë¡œ ë¶„ì„í•˜ëŠ” ì´ë¡ ', 'ì–µì•• êµ¬ì¡° ë“œëŸ¬ë‚´ê³  í•´ë°© ì§€í–¥í•˜ê¸°'] },
                    { word: 'ì‚¬ìœ ì²´ê³„', hints: ['ìƒê°í•˜ëŠ” ë°©ì‹ì˜ ì „ì²´ì  í‹€', 'ë…¼ë¦¬ì ìœ¼ë¡œ ì¡°ì§ëœ ì‚¬ê³ ì˜ êµ¬ì¡°'] },
                    { word: 'ìƒì§•ì²´ê³„', hints: ['ì˜ë¯¸ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê¸°í˜¸ë“¤ì˜ ì¡°ì§', 'ì¶”ìƒì  ê°œë…ì„ í‘œí˜„í•˜ëŠ” ì§ˆì„œ'] },
                    { word: 'ì„±ì°°ì„±', hints: ['ìê¸° ìì‹ ì„ ë˜ëŒì•„ë³´ëŠ” ì„±ì§ˆ', 'ë¹„íŒì ìœ¼ë¡œ ë°˜ì„±í•˜ëŠ” ëŠ¥ë ¥'] },
                    { word: 'ìˆ˜ì‚¬í•™', hints: ['íš¨ê³¼ì  í‘œí˜„ ê¸°ë²•ì„ ë‹¤ë£¨ëŠ” í•™ë¬¸', 'ì„¤ë“ë ¥ ìˆëŠ” ë§í•˜ê¸°ì™€ ì“°ê¸°ì˜ ê¸°ìˆ '] },
                    { word: 'ì‹¤ì¡´ì£¼ì˜', hints: ['ì¸ê°„ ì‹¤ì¡´ì˜ ì˜ë¯¸ íƒêµ¬í•˜ëŠ” ì² í•™', 'ì£¼ì²´ì  ì„ íƒê³¼ ì±…ì„ ê°•ì¡°í•˜ëŠ” ì‚¬ìƒ'] },
                    { word: 'ì–‘ìƒë…¼ë¦¬', hints: ['ê°€ëŠ¥ì„±ê³¼ í•„ì—°ì„± ë‹¤ë£¨ëŠ” ë…¼ë¦¬í•™', 'í˜„ì‹¤ì„± ë„˜ì–´ì„  ë…¼ë¦¬ì  ë¶„ì„'] },
                    { word: 'ì—°ì—­ë²•', hints: ['ì¼ë°˜ ì›ë¦¬ë¡œ íŠ¹ìˆ˜ ê²°ë¡  ì´ë„ëŠ” ë°©ë²•', 'ì „ì œì˜ í•„ì—°ì  ê·€ê²° ë„ì¶œí•˜ëŠ” ì¶”ë¡ '] },
                    { word: 'ìœ ë¬¼ë¡ ', hints: ['ë¬¼ì§ˆì´ ì •ì‹ ë³´ë‹¤ ê·¼ë³¸ì´ë¼ëŠ” ì² í•™', 'ë¬¼ì§ˆì  í† ëŒ€ê°€ ì˜ì‹ ê²°ì •í•œë‹¤ëŠ” ì‚¬ìƒ'] },
                    { word: 'ì´ë°ì˜¬ë¡œê¸°', hints: ['íŠ¹ì • ì§‘ë‹¨ì˜ ì‚¬ìƒì´ë‚˜ ê°€ì¹˜ê´€', 'ì‚¬íšŒ ì •ì¹˜ì  ì‹ ë… ì²´ê³„'] },
                    { word: 'ì¸ì‹ì£¼ì²´', hints: ['ì•ì˜ í™œë™ì„ ìˆ˜í–‰í•˜ëŠ” ì¡´ì¬', 'ì§€ì‹ì„ í˜•ì„±í•˜ê³  íŒë‹¨í•˜ëŠ” ì£¼ì²´'] },
                    { word: 'ì •í•©ì„±', hints: ['ë…¼ë¦¬ì ìœ¼ë¡œ ëª¨ìˆœ ì—†ì´ ì¼ì¹˜í•¨', 'ì²´ê³„ ë‚´ ìš”ì†Œë“¤ì´ ì¡°í™”ë¡­ê²Œ ë§ìŒ'] },
                    { word: 'íŒ¨ëŸ¬ë‹¤ì„', hints: ['íŠ¹ì • ì‹œëŒ€ì˜ ì§€ë°°ì  ì‚¬ê³ ë°©ì‹', 'í•™ë¬¸ ê³µë™ì²´ê°€ ê³µìœ í•˜ëŠ” ì¸ì‹ í‹€'] },
                    { word: 'í˜•ì´ìƒí•™', hints: ['ì¡´ì¬ì™€ ì‹¤ì¬ì˜ ë³¸ì§ˆ íƒêµ¬í•˜ëŠ” ì² í•™', 'ê²½í—˜ ë„ˆë¨¸ì˜ ê·¼ë³¸ ì›ë¦¬ ì—°êµ¬í•˜ê¸°'] }
                ]
            }
        };

        // Convert to Map for better performance
        for (const [lang, difficulties] of Object.entries(database)) {
            if (!this.wordDatabase.has(lang)) {
                this.wordDatabase.set(lang, new Map());
            }
            for (const [diff, words] of Object.entries(difficulties)) {
                this.wordDatabase.get(lang).set(parseInt(diff), words);
            }
        }
    }

    async updateWordDatabase() {
        this.showModal('wordUpdateModal');
        const progressBar = document.getElementById('updateProgress');
        const statusText = document.getElementById('updateStatus');

        try {
            progressBar.style.width = '30%';
            statusText.textContent = 'ìƒˆë¡œìš´ ë‹¨ì–´ë¥¼ ì¤€ë¹„í•˜ëŠ” ì¤‘...';

            // ìƒˆë¡œìš´ ë‹¨ì–´ ì¶”ê°€ ë° Supabaseì— ì €ì¥
            const addedCount = await this.addSimulatedWords();

            progressBar.style.width = '100%';
            statusText.textContent = `ì—…ë°ì´íŠ¸ ì™„ë£Œ! ${addedCount}ê°œì˜ ìƒˆë¡œìš´ ë‹¨ì–´ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.`;

            setTimeout(() => {
                this.closeModal('wordUpdateModal');
                this.updateWordCount();
            }, 1500);

        } catch (error) {
            console.error('ë‹¨ì–´ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨:', error);
            statusText.textContent = 'ì—…ë°ì´íŠ¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
            setTimeout(() => {
                this.closeModal('wordUpdateModal');
            }, 2000);
        }
    }

    async addSimulatedWords() {
        // Add some simulated new words to database
        const newWords = {
            english: {
                2: [
                    { word: 'PLANT', hints: ['Living organism that grows in soil', 'Green life form that needs water and sunlight'] },
                    { word: 'DREAM', hints: ['Images and stories your mind creates while sleeping', 'Hope or aspiration for future goals'] },
                    { word: 'RIVER', hints: ['Flowing body of fresh water', 'Natural stream that runs to the sea'] },
                    { word: 'FRUIT', hints: ['Sweet edible part of plant', 'Healthy food like apple or orange'] },
                    { word: 'CLOCK', hints: ['Device that shows time', 'Instrument with hands or digits for telling hour'] }
                ],
                3: [
                    { word: 'CANDLE', hints: ['Wax stick that burns for light', 'Flame source used in darkness'] },
                    { word: 'GARDEN', hints: ['Place where flowers and vegetables grow', 'Outdoor area with plants and soil'] }
                ]
            },
            korean: {
                2: [
                    { word: 'ê¿ˆ', hints: ['ì ë“¤ ë•Œ ë¨¸ë¦¿ì†ì— ë– ì˜¤ë¥´ëŠ” ìƒìƒì˜ ì´ì•¼ê¸°', 'ë¯¸ë˜ì— ì´ë£¨ê³  ì‹¶ì€ ì†Œë§ì´ë‚˜ ëª©í‘œ'] },
                    { word: 'ê°•', hints: ['íë¥´ëŠ” ë‹´ìˆ˜ì˜ ë¬¼ê¸¸', 'ë°”ë‹¤ë¡œ í˜ëŸ¬ê°€ëŠ” ìì—° ìˆ˜ë¡œ'] },
                    { word: 'ê³¼ì¼', hints: ['ë‹¬ì½¤í•œ ì‹ë¬¼ì˜ ì—´ë§¤', 'ì‚¬ê³¼ë‚˜ ì˜¤ë Œì§€ ê°™ì€ ê±´ê°• ì‹í’ˆ'] }
                ],
                3: [
                    { word: 'ì–‘ì´ˆ', hints: ['ë¶ˆì„ ë°íˆëŠ” ì™ìŠ¤ ë§‰ëŒ€', 'ì–´ë‘  ì†ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë¶ˆë¹› ë„êµ¬'] },
                    { word: 'ì •ì›', hints: ['ê½ƒê³¼ ì±„ì†Œê°€ ìë¼ëŠ” ê³³', 'ì‹ë¬¼ê³¼ í™ì´ ìˆëŠ” ì•¼ì™¸ ê³µê°„'] }
                ]
            }
        };

        let addedCount = 0;

        for (const [lang, difficulties] of Object.entries(newWords)) {
            if (this.wordDatabase.has(lang)) {
                for (const [diff, words] of Object.entries(difficulties)) {
                    const difficulty = parseInt(diff);
                    if (this.wordDatabase.get(lang).has(difficulty)) {
                        const wordsList = this.wordDatabase.get(lang).get(difficulty);

                        for (const wordObj of words) {
                            // ì¤‘ë³µ ì²´í¬
                            const exists = wordsList.some(w => w.word === wordObj.word);

                            if (!exists) {
                                // ë¡œì»¬ DBì— ì¶”ê°€
                                wordsList.push(wordObj);

                                // Supabaseì— ì €ì¥
                                await this.saveWordToSupabase(
                                    wordObj.word,
                                    lang,
                                    difficulty,
                                    wordObj.hints
                                );

                                addedCount++;
                            }
                        }
                    }
                }
            }
        }

        return addedCount;
    }

    updateWordCount() {
        let totalWords = 0;
        for (const [lang, difficulties] of this.wordDatabase.entries()) {
            for (const [diff, words] of difficulties.entries()) {
                totalWords += words.length;
            }
        }
        const countElement = document.getElementById('currentWordCount');
        if (countElement) {
            countElement.textContent = totalWords;
        }
    }

    // ===== Supabase Database Methods =====
    async loadWordsFromSupabase() {
        if (!supabaseClient) return;

        try {
            console.log('ğŸ“¥ Supabaseì—ì„œ ë‹¨ì–´ ë¡œë“œ ì¤‘...');

            const { data, error } = await supabaseClient
                .from('crossword_words')
                .select('*');

            if (error) {
                console.error('âŒ ë‹¨ì–´ ë¡œë“œ ì‹¤íŒ¨:', error);
                return;
            }

            if (data && data.length > 0) {
                console.log(`âœ… ${data.length}ê°œì˜ ë‹¨ì–´ë¥¼ ë¡œë“œí–ˆìŠµë‹ˆë‹¤.`);

                // DBì—ì„œ ë¡œë“œí•œ ë‹¨ì–´ë¥¼ wordDatabaseì— ì¶”ê°€
                data.forEach(row => {
                    const { word, language, difficulty, hints } = row;

                    // languageì™€ difficultyì— í•´ë‹¹í•˜ëŠ” Map í™•ë³´
                    if (!this.wordDatabase.has(language)) {
                        this.wordDatabase.set(language, new Map());
                    }

                    const langMap = this.wordDatabase.get(language);
                    if (!langMap.has(difficulty)) {
                        langMap.set(difficulty, []);
                    }

                    // ì¤‘ë³µ ì²´í¬ í›„ ì¶”ê°€
                    const wordsList = langMap.get(difficulty);
                    const exists = wordsList.some(w => w.word === word);

                    if (!exists) {
                        wordsList.push({
                            word: word,
                            hints: Array.isArray(hints) ? hints : JSON.parse(hints)
                        });
                    }
                });

                // ë‹¨ì–´ ê°œìˆ˜ ì—…ë°ì´íŠ¸
                this.updateWordCount();
                console.log('âœ… ë‹¨ì–´ ë°ì´í„°ë² ì´ìŠ¤ ì—…ë°ì´íŠ¸ ì™„ë£Œ');
            } else {
                console.log('â„¹ï¸ DBì— ì €ì¥ëœ ë‹¨ì–´ê°€ ì—†ìŠµë‹ˆë‹¤.');
            }
        } catch (error) {
            console.error('âŒ ë‹¨ì–´ ë¡œë“œ ì¤‘ ì˜¤ë¥˜:', error);
        }
    }

    async saveWordToSupabase(word, language, difficulty, hints) {
        if (!supabaseClient) {
            console.warn('âš ï¸ Supabase í´ë¼ì´ì–¸íŠ¸ê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
            return false;
        }

        try {
            console.log(`ğŸ’¾ ë‹¨ì–´ ì €ì¥ ì¤‘: ${word}`);

            const { data, error } = await supabaseClient
                .from('crossword_words')
                .insert([
                    {
                        word: word,
                        language: language,
                        difficulty: difficulty,
                        hints: hints
                    }
                ])
                .select();

            if (error) {
                console.error('âŒ ë‹¨ì–´ ì €ì¥ ì‹¤íŒ¨:', error);
                return false;
            }

            console.log('âœ… ë‹¨ì–´ê°€ Supabaseì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤:', data);
            return true;
        } catch (error) {
            console.error('âŒ ë‹¨ì–´ ì €ì¥ ì¤‘ ì˜¤ë¥˜:', error);
            return false;
        }
    }

    async deleteWordFromSupabase(word, language, difficulty) {
        if (!supabaseClient) return false;

        try {
            const { error } = await supabaseClient
                .from('crossword_words')
                .delete()
                .eq('word', word)
                .eq('language', language)
                .eq('difficulty', difficulty);

            if (error) {
                console.error('âŒ ë‹¨ì–´ ì‚­ì œ ì‹¤íŒ¨:', error);
                return false;
            }

            console.log('âœ… ë‹¨ì–´ê°€ Supabaseì—ì„œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤:', word);
            return true;
        } catch (error) {
            console.error('âŒ ë‹¨ì–´ ì‚­ì œ ì¤‘ ì˜¤ë¥˜:', error);
            return false;
        }
    }

    // ===== DOM Initialization =====
    initDOM() {
        // Screens
        this.startScreen = document.getElementById('startScreen');
        this.gameScreen = document.getElementById('gameScreen');
        this.highScoreScreen = document.getElementById('highScoreScreen');
        this.gameOverScreen = document.getElementById('gameOverScreen');
        
        // Settings
        this.gridSizeSelect = document.getElementById('gridSize');
        this.languageSelect = document.getElementById('language');
        this.difficultySlider = document.getElementById('difficulty');
        this.gameTimerSelect = document.getElementById('gameTimer');
        this.sliderValue = document.querySelector('.slider-value');
        
        // Game elements
        this.crosswordGrid = document.getElementById('crosswordGrid');
        this.acrossClues = document.getElementById('acrossClues');
        this.downClues = document.getElementById('downClues');
        this.timerDisplay = document.getElementById('timerDisplay');
        this.scoreDisplay = document.getElementById('gameScore');
        this.completedDisplay = document.getElementById('completedWords');
        this.totalDisplay = document.getElementById('totalWords');
        
        // Input panel
        this.wordNumberSelect = document.getElementById('wordNumber');
        this.wordDirectionSelect = document.getElementById('wordDirection');
        this.wordInput = document.getElementById('wordInput');
        this.autocompleteSuggestions = document.getElementById('autocompleteSuggestions');
        
        // Modals
        this.pauseModal = document.getElementById('pauseModal');
        this.nameModal = document.getElementById('nameModal');
        this.helpModal = document.getElementById('helpModal');
        this.wordUpdateModal = document.getElementById('wordUpdateModal');
        
        // Other
        this.celebrationCanvas = document.getElementById('celebrationCanvas');
        this.scoreList = document.getElementById('scoreList');
    }

    // ===== Event Listeners =====
    initEventListeners() {
        // Start screen
        document.getElementById('startGame').addEventListener('click', () => this.startGame());
        document.getElementById('highScoreBtn').addEventListener('click', () => this.showHighScores());
        document.getElementById('backToMenuBtn').addEventListener('click', () => this.showStartScreen());
        document.getElementById('updateWordsBtn').addEventListener('click', () => this.updateWordDatabase());

        // Window resize listener for adaptive layout
        window.addEventListener('resize', () => {
            if (this.gameActive) {
                
            }
        });
        
        // Settings
        this.difficultySlider.addEventListener('input', (e) => {
            this.difficulty = parseInt(e.target.value);
            this.sliderValue.textContent = this.difficulty;
        });
        
        this.gridSizeSelect.addEventListener('change', (e) => {
            this.gridSize = parseInt(e.target.value);
        });
        
        this.languageSelect.addEventListener('change', (e) => {
            this.language = e.target.value;
        });
        
        this.gameTimerSelect.addEventListener('change', (e) => {
            this.gameTime = parseInt(e.target.value);
        });
        
        // Game controls
        document.getElementById('pauseBtn').addEventListener('click', () => this.pauseGame());
        document.getElementById('resumeBtn').addEventListener('click', () => this.resumeGame());
        document.getElementById('quitBtn').addEventListener('click', () => this.endGame());
        
        // Input panel
        this.wordNumberSelect.addEventListener('change', () => this.onNumberChange());
        this.wordDirectionSelect.addEventListener('change', () => this.onDirectionChange());
        this.wordInput.addEventListener('input', () => this.onWordInput());
        this.wordInput.addEventListener('keydown', (e) => this.onWordKeydown(e));
        document.getElementById('submitWord').addEventListener('click', () => this.submitWord());
        document.getElementById('showAnswerBtn').addEventListener('click', () => this.showAnswer());
        
        // Clues tabs
        document.querySelectorAll('.clue-tab').forEach(tab => {
            tab.addEventListener('click', (e) => this.switchClueTab(e.target.dataset.direction));
        });
        
        // Header controls
        document.getElementById('themeToggle').addEventListener('click', () => this.toggleTheme());
        document.getElementById('soundToggle').addEventListener('click', () => this.toggleSound());
        document.getElementById('helpBtn').addEventListener('click', () => this.showHelp());
        
        // Modal controls
        document.getElementById('saveScoreBtn').addEventListener('click', () => this.saveHighScore());
        document.getElementById('skipNameBtn').addEventListener('click', () => this.skipNameInput());
        document.getElementById('closeHelpBtn').addEventListener('click', () => this.closeModal('helpModal'));
        document.getElementById('cancelUpdateBtn').addEventListener('click', () => this.closeModal('wordUpdateModal'));
        
        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => this.handleKeyboard(e));
        
        // Click outside autocomplete
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.word-input-container')) {
                this.hideAutocomplete();
            }
        });
    }

    // ===== Input Panel Logic =====
    onNumberChange() {
        const selectedNumber = parseInt(this.wordNumberSelect.value);
        if (selectedNumber) {
            this.updateDirectionOptions(selectedNumber);
            const direction = this.wordDirectionSelect.value;
            if (direction) {
                this.highlightWordInGrid(selectedNumber, direction);
                this.highlightCurrentClue(selectedNumber, direction);
                this.updateCurrentHintDisplay(selectedNumber, direction);
            }
        }
    }

    onDirectionChange() {
        const selectedNumber = parseInt(this.wordNumberSelect.value);
        const selectedDirection = this.wordDirectionSelect.value;
        if (selectedNumber && selectedDirection) {
            this.highlightWordInGrid(selectedNumber, selectedDirection);
            this.highlightCurrentClue(selectedNumber, selectedDirection);
            this.updateCurrentHintDisplay(selectedNumber, selectedDirection);
            this.wordInput.focus({ preventScroll: true });
        }
    }

    onWordInput() {
        const input = this.wordInput.value.toUpperCase();
        
        // Show autocomplete for difficulty <= 3
        if (this.difficulty <= 3 && input.length >= 2) {
            this.showAutocomplete(input);
        } else {
            this.hideAutocomplete();
        }
    }

    onWordKeydown(e) {
        if (e.key === 'Enter') {
            e.preventDefault();
            this.submitWord();
        } else if (e.key === 'Escape') {
            this.hideAutocomplete();
        } else if (e.key === 'ArrowDown' || e.key === 'ArrowUp') {
            e.preventDefault();
            this.navigateAutocomplete(e.key === 'ArrowDown');
        }
    }

    updateDirectionOptions(number) {
        // Clear and rebuild direction options
        this.wordDirectionSelect.innerHTML = '<option value="">ì„ íƒ</option>';
        
        const acrossWord = this.clues.across.find(clue => clue.number === number);
        const downWord = this.clues.down.find(clue => clue.number === number);
        
        if (acrossWord && !this.completedWords.has(`across-${number}`)) {
            const option = document.createElement('option');
            option.value = 'across';
            option.textContent = 'ê°€ë¡œ';
            this.wordDirectionSelect.appendChild(option);
        }
        
        if (downWord && !this.completedWords.has(`down-${number}`)) {
            const option = document.createElement('option');
            option.value = 'down';
            option.textContent = 'ì„¸ë¡œ';
            this.wordDirectionSelect.appendChild(option);
        }
        
        // Auto-select if only one option
        const options = this.wordDirectionSelect.querySelectorAll('option[value!=""]');
        if (options.length === 1) {
            this.wordDirectionSelect.value = options[0].value;
            this.onDirectionChange();
        }
    }

    populateNumberOptions() {
        this.wordNumberSelect.innerHTML = '<option value="">ì„ íƒ</option>';
        
        const allNumbers = new Set();
        this.clues.across.forEach(clue => allNumbers.add(clue.number));
        this.clues.down.forEach(clue => allNumbers.add(clue.number));
        
        Array.from(allNumbers).sort((a, b) => a - b).forEach(number => {
            // Only show numbers that have incomplete words
            const acrossComplete = this.completedWords.has(`across-${number}`);
            const downComplete = this.completedWords.has(`down-${number}`);
            const acrossExists = this.clues.across.some(clue => clue.number === number);
            const downExists = this.clues.down.some(clue => clue.number === number);
            
            if ((acrossExists && !acrossComplete) || (downExists && !downComplete)) {
                const option = document.createElement('option');
                option.value = number;
                option.textContent = number;
                this.wordNumberSelect.appendChild(option);
            }
        });
    }

    highlightWordInGrid(number, direction) {
        // Clear previous highlights
        document.querySelectorAll('.crossword-cell').forEach(cell => {
            cell.classList.remove('highlighted');
        });
        
        if (!direction) return;
        
        const word = this.clues[direction].find(clue => clue.number === number);
        if (!word) return;
        
        // Highlight word cells
        for (let i = 0; i < word.answer.length; i++) {
            const row = direction === 'across' ? word.row : word.row + i;
            const col = direction === 'across' ? word.col + i : word.col;
            
            const cell = document.querySelector(`[data-row="${row}"][data-col="${col}"]`);
            if (cell) {
                cell.classList.add('highlighted');
            }
        }
    }

    // ===== Autocomplete System =====
    showAutocomplete(input) {
        if (this.difficulty > 3) return;
        
        const suggestions = this.getWordSuggestions(input);
        if (suggestions.length === 0) {
            this.hideAutocomplete();
            return;
        }
        
        this.autocompleteSuggestions.innerHTML = '';
        suggestions.forEach((suggestion, index) => {
            const item = document.createElement('div');
            item.className = 'autocomplete-item';
            item.textContent = suggestion;
            item.addEventListener('click', () => this.selectAutocomplete(suggestion));
            this.autocompleteSuggestions.appendChild(item);
        });
        
        this.autocompleteSuggestions.style.display = 'block';
        this.autocompleteSuggestions.style.bottom = '100%';
    }

    hideAutocomplete() {
        this.autocompleteSuggestions.style.display = 'none';
    }

    getWordSuggestions(input) {
        const currentNumber = parseInt(this.wordNumberSelect.value);
        const currentDirection = this.wordDirectionSelect.value;
        
        if (!currentNumber || !currentDirection) return [];
        
        const targetWord = this.clues[currentDirection].find(clue => clue.number === currentNumber);
        if (!targetWord) return [];
        
        // Get all possible words that match current input and length
        const suggestions = [];
        const langDatabase = this.wordDatabase.get(this.language);
        
        if (langDatabase) {
            for (const [difficulty, words] of langDatabase.entries()) {
                words.forEach(wordObj => {
                    if (wordObj.word.length === targetWord.answer.length && 
                        wordObj.word.startsWith(input)) {
                        suggestions.push(wordObj.word);
                    }
                });
            }
        }
        
        return suggestions.slice(0, 5); // Limit to 5 suggestions
    }

    selectAutocomplete(word) {
        this.wordInput.value = word;
        this.hideAutocomplete();
        this.submitWord();
    }

    navigateAutocomplete(down) {
        const items = this.autocompleteSuggestions.querySelectorAll('.autocomplete-item');
        if (items.length === 0) return;
        
        const current = this.autocompleteSuggestions.querySelector('.autocomplete-item.selected');
        let newIndex = 0;
        
        if (current) {
            current.classList.remove('selected');
            const currentIndex = Array.from(items).indexOf(current);
            newIndex = down ? 
                Math.min(currentIndex + 1, items.length - 1) : 
                Math.max(currentIndex - 1, 0);
        }
        
        items[newIndex].classList.add('selected');
    }

    // ===== Word Submission =====
    submitWord() {
        const number = parseInt(this.wordNumberSelect.value);
        const direction = this.wordDirectionSelect.value;
        const word = this.wordInput.value.toUpperCase().trim();

        if (!number || !direction || !word) {
            this.showError('ë²ˆí˜¸, ë°©í–¥, ë‹¨ì–´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            return;
        }

        const targetWord = this.clues[direction].find(clue => clue.number === number);
        if (!targetWord) {
            this.showError('ì˜ëª»ëœ ë²ˆí˜¸ì…ë‹ˆë‹¤.');
            return;
        }

        if (word.length !== targetWord.answer.length) {
            this.showError(`ì´ ë‹¨ì–´ëŠ” ${targetWord.answer.length}ê¸€ìì—¬ì•¼ í•©ë‹ˆë‹¤.`);
            return;
        }

        if (word === targetWord.answer) {
            this.handleCorrectAnswer(number, direction, word);
        } else {
            this.handleIncorrectAnswer(number, direction, word);
        }

        // Clear input
        this.wordInput.value = '';
        this.hideAutocomplete();
    }

    // ì •ë‹µ ë³´ê¸° ê¸°ëŠ¥
    showAnswer() {
        const number = parseInt(this.wordNumberSelect.value);
        const direction = this.wordDirectionSelect.value;

        if (!number || !direction) {
            this.showError('ë¨¼ì € ë²ˆí˜¸ì™€ ë°©í–¥ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
            return;
        }

        const targetWord = this.clues[direction].find(clue => clue.number === number);
        if (!targetWord) {
            this.showError('ì˜ëª»ëœ ë²ˆí˜¸ì…ë‹ˆë‹¤.');
            return;
        }

        // ì •ë‹µì„ ì…ë ¥ì°½ì— í‘œì‹œ
        this.wordInput.value = targetWord.answer;
        this.showError(`ì •ë‹µ: ${targetWord.answer}`, 'success');
        this.playSound('click');

        // ì…ë ¥ì°½ì— í¬ì»¤ìŠ¤
        this.wordInput.focus();
    }

    handleCorrectAnswer(number, direction, word) {
        const wordKey = `${direction}-${number}`;
        this.completedWords.add(wordKey);
        
        // Add score
        this.score += 100;
        this.updateScore();
        
        // Fill grid
        this.fillWordInGrid(number, direction, word);
        
        // Mark as completed
        this.markWordAsCompleted(number, direction);
        
        // Update UI
        this.populateNumberOptions();
        this.updateProgress();
        
        // Play sound
        this.playSound('correct');
        
        // Check if game is complete
        if (this.completedWords.size === this.clues.across.length + this.clues.down.length) {
            setTimeout(() => this.completeGame(), 500);
        }
        
        // Clear selections
        this.wordNumberSelect.value = '';
        this.wordDirectionSelect.innerHTML = '<option value="">ì„ íƒ</option>';
        document.querySelectorAll('.crossword-cell').forEach(cell => {
            cell.classList.remove('highlighted');
        });
    }

    handleIncorrectAnswer(number, direction, word) {
        this.showError('í‹€ë ¸ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”.');
        this.playSound('error');
        
        // Show error animation on highlighted cells
        document.querySelectorAll('.crossword-cell.highlighted').forEach(cell => {
            cell.classList.add('error');
            setTimeout(() => cell.classList.remove('error'), 300);
        });
    }

    fillWordInGrid(number, direction, word) {
        const targetWord = this.clues[direction].find(clue => clue.number === number);
        if (!targetWord) return;

        for (let i = 0; i < word.length; i++) {
            const row = direction === 'across' ? targetWord.row : targetWord.row + i;
            const col = direction === 'across' ? targetWord.col + i : targetWord.col;

            const cell = document.querySelector(`[data-row="${row}"][data-col="${col}"]`);
            if (cell) {
                // ê¸°ì¡´ cell-numberë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•´ ì €ì¥
                const existingNumber = cell.querySelector('.cell-number');

                // ì…€ì˜ ë‚´ìš©ì„ ì§€ìš°ê³  ë¬¸ìë¥¼ ì¶”ê°€
                cell.textContent = word[i];

                // cell-numberê°€ ìˆì—ˆë‹¤ë©´ ë‹¤ì‹œ ì¶”ê°€í•˜ì—¬ ë²ˆí˜¸ê°€ ê³„ì† í‘œì‹œë˜ë„ë¡ í•¨
                if (existingNumber) {
                    cell.insertBefore(existingNumber, cell.firstChild);
                }

                cell.classList.add('completed');
            }
        }
    }

    markWordAsCompleted(number, direction) {
        const clueElement = document.querySelector(
            `.${direction}-clues .clue-item[data-number="${number}"]`
        );
        if (clueElement) {
            clueElement.classList.add('completed');
        }
    }

    showError(message, type = 'error') {
        const toastContainer = document.getElementById('toastContainer');
        if (!toastContainer) return;

        const toast = document.createElement('div');
        toast.className = `toast ${type}`;
        toast.innerHTML = `<i class="fas ${type === 'error' ? 'fa-exclamation-circle' : 'fa-check-circle'}"></i> ${message}`;

        toastContainer.appendChild(toast);

        setTimeout(() => {
            toast.remove();
        }, 3000);
    }

    // ===== Game Logic =====
    startGame() {
        // ê²Œì„ ì‹œì‘ ì „ ë‹¨ì„œ ì˜ì—­ ì™„ì „ ì´ˆê¸°í™” (ê°€ì¥ ë¨¼ì € ì‹¤í–‰)
        this.clearAllClues();

        this.initializeGame();
        this.generateCrossword();
        this.renderGrid();
        this.renderClues();
        this.populateNumberOptions();
        this.showGameScreen();
        this.startTimer();
        this.gameActive = true;
        this.playSound('click');
    }

    // ëª¨ë“  ë‹¨ì„œë¥¼ ì™„ì „íˆ ì œê±°í•˜ëŠ” í—¬í¼ ë©”ì„œë“œ
    clearAllClues() {
        console.log('=== clearAllClues ì‹œì‘ ===');

        // 1. ëª¨ë“  clue-item ì œê±°
        const allClueItems = document.querySelectorAll('.clue-item');
        console.log(`ì œê±°í•  clue-item ê°œìˆ˜: ${allClueItems.length}`);
        allClueItems.forEach(item => {
            item.remove();
        });

        // 2. ê°€ë¡œ ë‹¨ì„œ ì»¨í…Œì´ë„ˆ ì´ˆê¸°í™”
        const acrossClues = document.getElementById('acrossClues');
        if (acrossClues) {
            console.log(`ê°€ë¡œ ë‹¨ì„œ ì»¨í…Œì´ë„ˆ ìì‹ ìˆ˜ (ì œê±° ì „): ${acrossClues.children.length}`);
            acrossClues.innerHTML = '';
            while (acrossClues.firstChild) {
                acrossClues.removeChild(acrossClues.firstChild);
            }
            console.log(`ê°€ë¡œ ë‹¨ì„œ ì»¨í…Œì´ë„ˆ ìì‹ ìˆ˜ (ì œê±° í›„): ${acrossClues.children.length}`);
        }

        // 3. ì„¸ë¡œ ë‹¨ì„œ ì»¨í…Œì´ë„ˆ ì´ˆê¸°í™”
        const downClues = document.getElementById('downClues');
        if (downClues) {
            console.log(`ì„¸ë¡œ ë‹¨ì„œ ì»¨í…Œì´ë„ˆ ìì‹ ìˆ˜ (ì œê±° ì „): ${downClues.children.length}`);
            downClues.innerHTML = '';
            while (downClues.firstChild) {
                downClues.removeChild(downClues.firstChild);
            }
            console.log(`ì„¸ë¡œ ë‹¨ì„œ ì»¨í…Œì´ë„ˆ ìì‹ ìˆ˜ (ì œê±° í›„): ${downClues.children.length}`);
        }

        // 4. this ì°¸ì¡° ì´ˆê¸°í™”
        if (this.acrossClues) {
            this.acrossClues.innerHTML = '';
        }
        if (this.downClues) {
            this.downClues.innerHTML = '';
        }

        // 5. clues ë°ì´í„°ë„ ì™„ì „íˆ ìƒˆ ê°ì²´ë¡œ ì´ˆê¸°í™”
        this.clues = {
            across: [],
            down: []
        };

        console.log('=== clearAllClues ì™„ë£Œ ===');
    }

    initializeGame() {
        console.log('=== initializeGame ì‹œì‘ ===');

        // Reset game state - ê° ì…€ì„ ë…ë¦½ì ì¸ ê°ì²´ë¡œ ìƒì„±
        this.grid = Array(this.gridSize).fill(null).map(() =>
            Array(this.gridSize).fill(null).map(() => ({
                type: 'black',
                value: '',
                number: null
            }))
        );
        this.solution = Array(this.gridSize).fill(null).map(() =>
            Array(this.gridSize).fill(null).map(() => '')
        );

        // words ë°°ì—´ ì™„ì „ ì´ˆê¸°í™” (ì´ì „ ê²Œì„ ë‹¨ì–´ ì œê±°)
        this.words = [];
        console.log(`ë‹¨ì–´ ë°°ì—´ ì´ˆê¸°í™”: ${this.words.length}ê°œ`);

        // clues ì™„ì „íˆ ìƒˆ ê°ì²´ë¡œ ì´ˆê¸°í™”
        this.clues = {
            across: [],
            down: []
        };
        console.log(`ë‹¨ì„œ ì´ˆê¸°í™” - ê°€ë¡œ: ${this.clues.across.length}, ì„¸ë¡œ: ${this.clues.down.length}`);

        this.wordPositions.clear();
        this.completedWords.clear();
        this.score = 0;
        this.timer = this.gameTime;
        this.updateScore();
        this.updateProgress();

        // ë‹¨ì„œ ì˜ì—­ ì™„ì „ ì´ˆê¸°í™” - DOMì—ì„œ ëª¨ë“  ì´ì „ ë‹¨ì„œ ì œê±°
        if (this.acrossClues) {
            this.acrossClues.innerHTML = '';
        }
        if (this.downClues) {
            this.downClues.innerHTML = '';
        }

        // ì…ë ¥ì°½ ì´ˆê¸°í™”
        if (this.wordNumberSelect) {
            this.wordNumberSelect.innerHTML = '<option value="">ë²ˆí˜¸</option>';
        }
        if (this.wordDirectionSelect) {
            this.wordDirectionSelect.innerHTML = '<option value="">ë°©í–¥</option><option value="across">ê°€ë¡œ</option><option value="down">ì„¸ë¡œ</option>';
        }
        if (this.wordInput) {
            this.wordInput.value = '';
        }

        // íŒíŠ¸ í‘œì‹œ ì´ˆê¸°í™”
        const hintDisplay = document.getElementById('currentHintDisplay');
        if (hintDisplay) {
            hintDisplay.innerHTML = '<span class="hint-text">íŒíŠ¸ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤</span>';
        }

        // ëª¨ë“  ì…€ì—ì„œ í•˜ì´ë¼ì´íŠ¸ ì œê±°
        document.querySelectorAll('.crossword-cell').forEach(cell => {
            cell.classList.remove('highlighted', 'completed', 'error');
        });

        // ëª¨ë“  ë‹¨ì„œ ì•„ì´í…œì—ì„œ í´ë˜ìŠ¤ ì œê±°
        document.querySelectorAll('.clue-item').forEach(item => {
            item.classList.remove('active', 'completed', 'selected');
        });
    }

    generateCrossword() {
        // Select words for current settings
        this.selectWordsForCrossword();
        
        // Place words on grid
        this.placeWordsOnGrid();
        
        // Add numbers
        this.addNumbersToGrid();
        
        // Generate clues
        this.generateClues();
    }

    selectWordsForCrossword() {
        // ì™„ì „íˆ ìƒˆë¡œìš´ ë°°ì—´ë¡œ ì´ˆê¸°í™”
        this.words = [];
        console.log('=== selectWordsForCrossword ì‹œì‘ ===');

        const langDatabase = this.wordDatabase.get(this.language);

        if (!langDatabase) {
            console.error('ë‹¨ì–´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ');
            return;
        }

        // Calculate minimum words needed (at least gridSize)
        const minWords = this.gridSize;
        const maxWords = Math.floor(this.gridSize * 1.5);

        // Select words from difficulty levels 1 to current difficulty
        const maxDifficulty = Math.min(this.difficulty, 10); // ìµœëŒ€ ë‚œì´ë„ 10ê¹Œì§€ ì§€ì›
        for (let diff = 1; diff <= maxDifficulty; diff++) {
            if (langDatabase.has(diff)) {
                const difficultyWords = langDatabase.get(diff);
                const wordsToAdd = Math.min(
                    Math.floor(minWords / maxDifficulty),
                    difficultyWords.length
                );

                // Shuffle and select - ê°ì²´ ë³µì‚¬ë³¸ ìƒì„± (ì´ì „ ê²Œì„ ë°ì´í„° ë¶„ë¦¬)
                const shuffled = this.shuffleArray([...difficultyWords]);
                const selected = shuffled.slice(0, wordsToAdd).map(w => ({
                    word: w.word,
                    hints: [...w.hints] // hints ë°°ì—´ë„ ë³µì‚¬
                }));
                this.words.push(...selected);
            }
        }

        // Ensure we have enough words
        if (this.words.length < minWords) {
            // Add more words from any available difficulty
            for (const [diff, diffWords] of langDatabase.entries()) {
                if (this.words.length >= minWords) break;
                const remaining = minWords - this.words.length;
                const available = diffWords.filter(w => !this.words.find(existing => existing.word === w.word));
                const shuffled = this.shuffleArray(available);
                const selected = shuffled.slice(0, remaining).map(w => ({
                    word: w.word,
                    hints: [...w.hints]
                }));
                this.words.push(...selected);
            }
        }

        // Limit to max words
        if (this.words.length > maxWords) {
            this.words = this.words.slice(0, maxWords);
        }

        // Shuffle final word list
        this.words = this.shuffleArray(this.words);

        console.log(`ì„ íƒëœ ë‹¨ì–´ ìˆ˜: ${this.words.length}`);
        console.log('=== selectWordsForCrossword ì™„ë£Œ ===');
    }

    placeWordsOnGrid() {
        // Simple placement algorithm
        const centerRow = Math.floor(this.gridSize / 2);
        const centerCol = Math.floor(this.gridSize / 2);

        // Place first word horizontally in center
        if (this.words.length > 0) {
            const startCol = Math.max(0, centerCol - Math.floor(this.words[0].word.length / 2));
            this.placeWord(this.words[0], centerRow, startCol, 'across');
        }

        // Place remaining words
        for (let i = 1; i < this.words.length; i++) {
            const placed = this.findPlacementForWord(this.words[i]);

            // ë°°ì¹˜ì— ì‹¤íŒ¨í•œ ë‹¨ì–´ëŠ” words ë°°ì—´ì—ì„œ ì œê±°í•˜ì§€ ì•Šì§€ë§Œ cluesì— ì¶”ê°€í•˜ì§€ ì•ŠìŒ
            // generateClues ë©”ì„œë“œì—ì„œ row, colì´ undefinedì¸ ë‹¨ì–´ëŠ” ìë™ìœ¼ë¡œ ì œì™¸ë¨
        }
    }

    placeWord(wordObj, row, col, direction) {
        const word = wordObj.word.toUpperCase();

        for (let i = 0; i < word.length; i++) {
            const r = direction === 'across' ? row : row + i;
            const c = direction === 'across' ? col + i : col;

            if (r >= 0 && r < this.gridSize && c >= 0 && c < this.gridSize) {
                const currentCell = this.grid[r][c];

                // êµì°¨ì  ê²€ì¦: ì´ë¯¸ ë¬¸ìê°€ ìˆëŠ” ê²½ìš°, ê°™ì€ ë¬¸ìì¸ì§€ í™•ì¸
                if (currentCell.type === 'white' && currentCell.value !== '') {
                    if (currentCell.value !== word[i]) {
                        // ë¬¸ìê°€ ë‹¤ë¥´ë©´ ë°°ì¹˜ ì‹¤íŒ¨ - ì´ ë‹¨ì–´ëŠ” ë°°ì¹˜í•˜ì§€ ì•ŠìŒ
                        console.warn(`êµì°¨ì  ë¬¸ì ë¶ˆì¼ì¹˜: ê¸°ì¡´ '${currentCell.value}' vs ìƒˆë¡œìš´ '${word[i]}' at (${r}, ${c})`);
                        return false; // ë°°ì¹˜ ì‹¤íŒ¨
                    }
                    // ê°™ì€ ë¬¸ìë©´ ë®ì–´ì“°ì§€ ì•Šê³  ê·¸ëƒ¥ ë‘  (êµì°¨ì )
                } else {
                    // ë¹ˆ ì…€ì´ë©´ ìƒˆë¡œìš´ ë¬¸ì ë°°ì¹˜
                    this.grid[r][c] = {
                        type: 'white',
                        value: word[i],
                        number: null
                    };
                    this.solution[r][c] = word[i];
                }
            }
        }

        // Store word info
        wordObj.row = row;
        wordObj.col = col;
        wordObj.direction = direction;
        wordObj.answer = word;
        return true; // ë°°ì¹˜ ì„±ê³µ
    }

    findPlacementForWord(wordObj) {
        const word = wordObj.word.toUpperCase();
        let placed = false;

        // Try to intersect with existing words
        // Create a shuffled list of potential intersection points to try
        const points = [];
        for (let r = 0; r < this.gridSize; r++) {
            for (let c = 0; c < this.gridSize; c++) {
                if (this.grid[r][c].type === 'white' && this.grid[r][c].value !== '') {
                    points.push({r, c, value: this.grid[r][c].value});
                }
            }
        }
        this.shuffleArray(points);

        for (const point of points) {
            if (placed) break;
            const { r: row, c: col, value } = point;
            const directions = this.shuffleArray(['across', 'down']);

            for (const direction of directions) {
                if (placed) break;
                for (let letterIndex = 0; letterIndex < word.length; letterIndex++) {
                    // êµì°¨ì ì˜ ë¬¸ìê°€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸
                    if (word[letterIndex] === value) {
                        const startRow = direction === 'across' ? row : row - letterIndex;
                        const startCol = direction === 'across' ? col - letterIndex : col;

                        if (this.canPlaceWordAt(word, startRow, startCol, direction)) {
                            // placeWordê°€ ì„±ê³µí–ˆëŠ”ì§€ í™•ì¸ (êµì°¨ì  ë¬¸ì ì¼ì¹˜ ê²€ì¦ í¬í•¨)
                            const success = this.placeWord(wordObj, startRow, startCol, direction);
                            if (success) {
                                placed = true;
                                break;
                            }
                        }
                    }
                }
            }
        }

        // ë°°ì¹˜ì— ì‹¤íŒ¨í•œ ê²½ìš° ë¡œê·¸ ì¶œë ¥
        if (!placed) {
            console.log(`ë‹¨ì–´ ë°°ì¹˜ ì‹¤íŒ¨: ${word} (êµì°¨ì ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ)`);
        }

        return placed;
    }

    canPlaceWordAt(word, row, col, direction) {
        if (row < 0 || col < 0) return false;

        const wordLength = word.length;
        const endRow = direction === 'across' ? row : row + wordLength - 1;
        const endCol = direction === 'across' ? col + wordLength - 1 : col;

        if (endRow >= this.gridSize || endCol >= this.gridSize) return false;

        // 1. Check start/end boundaries to prevent merging words
        if (direction === 'across') {
            // Check before the word - ë¬¸ìê°€ ìˆìœ¼ë©´ ì•ˆë¨
            if (col > 0 && this.grid[row][col - 1].type === 'white' && this.grid[row][col - 1].value !== '') {
                return false;
            }
            // Check after the word - ë¬¸ìê°€ ìˆìœ¼ë©´ ì•ˆë¨
            if (endCol < this.gridSize - 1 && this.grid[row][endCol + 1].type === 'white' && this.grid[row][endCol + 1].value !== '') {
                return false;
            }
        } else { // direction === 'down'
            // Check before the word - ë¬¸ìê°€ ìˆìœ¼ë©´ ì•ˆë¨
            if (row > 0 && this.grid[row - 1][col].type === 'white' && this.grid[row - 1][col].value !== '') {
                return false;
            }
            // Check after the word - ë¬¸ìê°€ ìˆìœ¼ë©´ ì•ˆë¨
            if (endRow < this.gridSize - 1 && this.grid[endRow + 1][col].type === 'white' && this.grid[endRow + 1][col].value !== '') {
                return false;
            }
        }

        // 2. Check each cell for conflicts and adjacency
        for (let i = 0; i < wordLength; i++) {
            const r = direction === 'across' ? row : row + i;
            const c = direction === 'across' ? col + i : col;
            const currentCell = this.grid[r][c];

            // êµì°¨ì  ê²€ì¦ ê°•í™”: ì…€ì´ í°ìƒ‰ì´ê³  ê°’ì´ ìˆìœ¼ë©´ ë°˜ë“œì‹œ ê°™ì€ ë¬¸ìì—¬ì•¼ í•¨
            if (currentCell.type === 'white' && currentCell.value !== '') {
                // ì´ë¯¸ ë¬¸ìê°€ ìˆëŠ” ê²½ìš°, êµì°¨ì ì´ë¯€ë¡œ ê°™ì€ ë¬¸ìì¸ì§€ í™•ì¸
                if (currentCell.value !== word[i]) {
                    return false; // ë¬¸ì ë¶ˆì¼ì¹˜ - ë°°ì¹˜ ë¶ˆê°€
                }
                // ê°™ì€ ë¬¸ìë©´ ìœ íš¨í•œ êµì°¨ì 
            } else if (currentCell.type === 'white' && currentCell.value === '') {
                // í°ìƒ‰ ì…€ì¸ë° ê°’ì´ ì—†ëŠ” ê²½ìš° - ì´ìƒí•œ ìƒíƒœì´ë¯€ë¡œ ê±°ë¶€
                return false;
            } else if (currentCell.type === 'black') {
                // ë¹ˆ ì…€(ê²€ì€ìƒ‰)ì— ë°°ì¹˜í•  ê²½ìš°, ì¸ì ‘ ì…€ í™•ì¸
                // Check adjacent cells for invalid neighbors
                if (direction === 'across') {
                    // Check above
                    if (r > 0 && this.grid[r - 1][c].type === 'white' && this.grid[r - 1][c].value !== '') return false;
                    // Check below
                    if (r < this.gridSize - 1 && this.grid[r + 1][c].type === 'white' && this.grid[r + 1][c].value !== '') return false;
                } else { // direction === 'down'
                    // Check left
                    if (c > 0 && this.grid[r][c - 1].type === 'white' && this.grid[r][c - 1].value !== '') return false;
                    // Check right
                    if (c < this.gridSize - 1 && this.grid[r][c + 1].type === 'white' && this.grid[r][c + 1].value !== '') return false;
                }
            }
        }

        return true; // If all checks pass, it's a valid placement
    }

    placeWordRandomly(wordObj) {
        const word = wordObj.word.toUpperCase();
        const direction = Math.random() < 0.5 ? 'across' : 'down';

        const maxRow = direction === 'across' ? this.gridSize - 1 : this.gridSize - word.length;
        const maxCol = direction === 'across' ? this.gridSize - word.length : this.gridSize - 1;

        if (maxRow >= 0 && maxCol >= 0) {
            // Try to find an empty area
            for (let attempts = 0; attempts < 50; attempts++) {
                const row = Math.floor(Math.random() * (maxRow + 1));
                const col = Math.floor(Math.random() * (maxCol + 1));

                if (this.canPlaceWordAt(word, row, col, direction)) {
                    const success = this.placeWord(wordObj, row, col, direction);
                    if (success) {
                        return true;
                    }
                }
            }
        }
        return false; // ë°°ì¹˜ ì‹¤íŒ¨
    }

    addNumbersToGrid() {
        let number = 1;
        
        for (let row = 0; row < this.gridSize; row++) {
            for (let col = 0; col < this.gridSize; col++) {
                if (this.grid[row][col].type === 'white') {
                    let needsNumber = false;
                    
                    // Check if start of across word
                    if (col === 0 || this.grid[row][col - 1].type === 'black') {
                        if (col + 1 < this.gridSize && this.grid[row][col + 1].type === 'white') {
                            needsNumber = true;
                        }
                    }
                    
                    // Check if start of down word
                    if (row === 0 || this.grid[row - 1][col].type === 'black') {
                        if (row + 1 < this.gridSize && this.grid[row + 1][col].type === 'white') {
                            needsNumber = true;
                        }
                    }
                    
                    if (needsNumber) {
                        this.grid[row][col].number = number;
                        number++;
                    }
                }
            }
        }
    }

    generateClues() {
        // ì™„ì „íˆ ìƒˆë¡œìš´ ê°ì²´ë¡œ ì´ˆê¸°í™” (ì°¸ì¡° ë¬¸ì œ ë°©ì§€)
        this.clues = {
            across: [],
            down: []
        };

        this.words.forEach(wordObj => {
            if (wordObj.row !== undefined && wordObj.col !== undefined) {
                const clue = {
                    number: this.grid[wordObj.row][wordObj.col].number,
                    hints: wordObj.hints,
                    answer: wordObj.answer,
                    row: wordObj.row,
                    col: wordObj.col,
                    length: wordObj.answer.length
                };

                if (clue.number && wordObj.direction) {
                    // directionì´ ìœ íš¨í•œì§€ í™•ì¸
                    if (wordObj.direction === 'across' || wordObj.direction === 'down') {
                        this.clues[wordObj.direction].push(clue);
                    }
                }
            }
        });

        // Sort clues by number
        this.clues.across.sort((a, b) => a.number - b.number);
        this.clues.down.sort((a, b) => a.number - b.number);

        // ë””ë²„ê¹…: ìƒì„±ëœ ë‹¨ì„œ ê°œìˆ˜ í™•ì¸
        console.log(`ìƒì„±ëœ ë‹¨ì„œ - ê°€ë¡œ: ${this.clues.across.length}, ì„¸ë¡œ: ${this.clues.down.length}`);
    }

    // ===== Rendering =====
    renderGrid() {
        this.crosswordGrid.innerHTML = '';
        this.crosswordGrid.style.gridTemplateColumns = `repeat(${this.gridSize}, 1fr)`;

        for (let row = 0; row < this.gridSize; row++) {
            for (let col = 0; col < this.gridSize; col++) {
                const cell = document.createElement('div');
                const cellData = this.grid[row][col];

                cell.className = `crossword-cell ${cellData.type}`;
                cell.dataset.row = row;
                cell.dataset.col = col;

                if (cellData.type === 'white') {
                    if (cellData.number) {
                        const numberDiv = document.createElement('div');
                        numberDiv.className = 'cell-number';
                        numberDiv.textContent = cellData.number;
                        cell.appendChild(numberDiv);
                    }

                    // í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€: ê·¸ë¦¬ë“œ ì…€ í´ë¦­ ì‹œ ì…ë ¥ì°½ì— ë²ˆí˜¸ì™€ ë°©í–¥ ìë™ ì„¸íŒ…
                    cell.addEventListener('click', () => {
                        this.selectWordFromCell(row, col);
                    });
                }

                this.crosswordGrid.appendChild(cell);
            }
        }

        // ì ì‘í˜• ê·¸ë¦¬ë“œ í¬ê¸° ì¡°ì •

    }

    // ê·¸ë¦¬ë“œ ì…€ í´ë¦­ ì‹œ í•´ë‹¹ ì…€ì´ ì†í•œ ë‹¨ì–´ ì„ íƒ
    selectWordFromCell(row, col) {
        // ì´ ì…€ì´ ì†í•œ ê°€ë¡œ/ì„¸ë¡œ ë‹¨ì–´ ì°¾ê¸°
        const wordsAtCell = this.findWordsAtCell(row, col);

        if (wordsAtCell.length === 0) return;

        // ì™„ë£Œë˜ì§€ ì•Šì€ ë‹¨ì–´ë§Œ í•„í„°ë§
        const incompleteWords = wordsAtCell.filter(w =>
            !this.completedWords.has(`${w.direction}-${w.number}`)
        );

        if (incompleteWords.length === 0) {
            // ëª¨ë“  ë‹¨ì–´ê°€ ì™„ë£Œë˜ì—ˆìœ¼ë©´ ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•ŠìŒ
            return;
        }

        // ì²« ë²ˆì§¸ ë¯¸ì™„ë£Œ ë‹¨ì–´ ì„ íƒ (ê°€ë¡œ ìš°ì„ )
        const selectedWord = incompleteWords.find(w => w.direction === 'across') || incompleteWords[0];

        this.selectWordFromClue(selectedWord.number, selectedWord.direction);
    }

    // íŠ¹ì • ì…€ì´ ì†í•œ ëª¨ë“  ë‹¨ì–´(ê°€ë¡œ/ì„¸ë¡œ) ì°¾ê¸°
    findWordsAtCell(row, col) {
        const words = [];

        // ê°€ë¡œ ë‹¨ì–´ ì°¾ê¸°
        for (const clue of this.clues.across) {
            if (clue.row === row && col >= clue.col && col < clue.col + clue.length) {
                words.push({ number: clue.number, direction: 'across' });
            }
        }

        // ì„¸ë¡œ ë‹¨ì–´ ì°¾ê¸°
        for (const clue of this.clues.down) {
            if (clue.col === col && row >= clue.row && row < clue.row + clue.length) {
                words.push({ number: clue.number, direction: 'down' });
            }
        }

        return words;
    }

    // ===== Adaptive Grid Layout =====

    renderClues() {
        // 1ë‹¨ê³„: ëª¨ë“  ê¸°ì¡´ clue-item ì™„ì „ ì œê±° (ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆê¹Œì§€)
        document.querySelectorAll('.clue-item').forEach(item => {
            item.remove();
        });

        // 2ë‹¨ê³„: DOM ì„ íƒìë¡œ ì§ì ‘ ì ‘ê·¼í•˜ì—¬ ì»¨í…Œì´ë„ˆ ì™„ì „íˆ ì´ˆê¸°í™”
        const acrossCluesContainer = document.getElementById('acrossClues');
        const downCluesContainer = document.getElementById('downClues');

        if (acrossCluesContainer) {
            // ëª¨ë“  ìì‹ ë…¸ë“œ ì œê±°
            while (acrossCluesContainer.firstChild) {
                acrossCluesContainer.removeChild(acrossCluesContainer.firstChild);
            }
        }

        if (downCluesContainer) {
            // ëª¨ë“  ìì‹ ë…¸ë“œ ì œê±°
            while (downCluesContainer.firstChild) {
                downCluesContainer.removeChild(downCluesContainer.firstChild);
            }
        }

        // 3ë‹¨ê³„: this ì°¸ì¡°ë„ ì´ˆê¸°í™”
        if (this.acrossClues) {
            while (this.acrossClues.firstChild) {
                this.acrossClues.removeChild(this.acrossClues.firstChild);
            }
        }
        if (this.downClues) {
            while (this.downClues.firstChild) {
                this.downClues.removeChild(this.downClues.firstChild);
            }
        }

        // 4ë‹¨ê³„: ìƒˆë¡œìš´ ë‹¨ì„œ ë Œë”ë§
        this.renderClueList(this.acrossClues, this.clues.across, 'across');
        this.renderClueList(this.downClues, this.clues.down, 'down');
    }

    renderClueList(container, clues, direction) {
        // container ìœ íš¨ì„± ê²€ì¦
        if (!container) {
            console.error(`Container is null for direction: ${direction}`);
            return;
        }

        // IDë¡œ ì§ì ‘ ì ‘ê·¼í•˜ì—¬ í™•ì‹¤í•œ ì»¨í…Œì´ë„ˆ í™•ë³´
        const targetContainer = direction === 'across'
            ? document.getElementById('acrossClues')
            : document.getElementById('downClues');

        if (!targetContainer) {
            console.error(`Cannot find container for direction: ${direction}`);
            return;
        }

        // ì™„ì „íˆ ì´ˆê¸°í™”
        targetContainer.innerHTML = '';
        while (targetContainer.firstChild) {
            targetContainer.removeChild(targetContainer.firstChild);
        }

        // ë””ë²„ê¹… ë¡œê·¸
        console.log(`ë Œë”ë§ ${direction} ë‹¨ì„œ ${clues.length}ê°œ`);

        // ìƒˆë¡œìš´ ë‹¨ì„œ ì¶”ê°€
        clues.forEach((clue, index) => {
            const clueElement = document.createElement('div');
            clueElement.className = 'clue-item';
            clueElement.dataset.number = clue.number;
            clueElement.dataset.direction = direction;
            clueElement.dataset.index = index; // ë””ë²„ê¹…ìš©

            clueElement.innerHTML = `
                <div class="clue-header">
                    <span class="clue-number">${clue.number}.</span>
                    <span class="clue-length">(${clue.length}ê¸€ì)</span>
                </div>
                <div class="clue-hints">
                    ${clue.hints.map(hint => `<div class="clue-hint">â€¢ ${hint}</div>`).join('')}
                </div>
            `;

            clueElement.addEventListener('click', () => {
                this.selectWordFromClue(clue.number, direction);
            });

            targetContainer.appendChild(clueElement);
        });

        // ë Œë”ë§ í›„ í™•ì¸
        console.log(`${direction} ì»¨í…Œì´ë„ˆì˜ ìì‹ ìš”ì†Œ ìˆ˜: ${targetContainer.children.length}`);
    }

    selectWordFromClue(number, direction) {
        // í•´ë‹¹ ë°©í–¥ì˜ ë‹¨ì„œ íƒ­ìœ¼ë¡œ ìë™ ì „í™˜
        this.switchClueTab(direction);

        // Set the number dropdown's value
        this.wordNumberSelect.value = number;

        // Manually trigger the 'change' event on the number select to force
        // the direction options to repopulate via the onNumberChange handler.
        this.wordNumberSelect.dispatchEvent(new Event('change'));

        // Now that the direction options are correct for the new number, set the direction.
        this.wordDirectionSelect.value = direction;

        // Manually trigger the 'change' event on the direction select to ensure
        // highlights and hints are updated via the onDirectionChange handler.
        this.wordDirectionSelect.dispatchEvent(new Event('change'));

        // ë‹¨ì„œ í•˜ì´ë¼ì´íŠ¸ ë° ìŠ¤í¬ë¡¤
        this.highlightCurrentClue(number, direction);

        // íŒíŠ¸ í‘œì‹œ
        this.updateCurrentHintDisplay(number, direction);

        // ì…ë ¥ì°½ì— í¬ì»¤ìŠ¤
        this.wordInput.focus();
    }

    switchClueTab(direction) {
        // Update tab appearance
        document.querySelectorAll('.clue-tab').forEach(tab => {
            tab.classList.remove('active');
        });
        document.querySelector(`[data-direction="${direction}"]`).classList.add('active');

        // Show corresponding clue list
        document.querySelectorAll('.clues-list').forEach(list => {
            list.classList.remove('active');
        });
        document.querySelector(`.${direction}-clues`).classList.add('active');
    }

    // ===== Hint Display and Highlighting =====
    highlightCurrentClue(number, direction) {
        // ëª¨ë“  íŒíŠ¸ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
        document.querySelectorAll('.clue-item').forEach(item => {
            item.classList.remove('active');
        });

        // í˜„ì¬ ì„ íƒëœ íŒíŠ¸ì— active í´ë˜ìŠ¤ ì¶”ê°€
        const clueElement = document.querySelector(
            `.${direction}-clues .clue-item[data-number="${number}"]`
        );
        if (clueElement) {
            clueElement.classList.add('active');

            // í•´ë‹¹ íŒíŠ¸ë¡œ ìŠ¤í¬ë¡¤
            clueElement.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
    }

    updateCurrentHintDisplay(number, direction) {
        const hintDisplay = document.getElementById('currentHintDisplay');
        if (!hintDisplay) return;

        const clue = this.clues[direction].find(c => c.number === number);
        if (clue && clue.hints && clue.hints.length > 0) {
            // ì²« ë²ˆì§¸ íŒíŠ¸ë¥¼ í‘œì‹œ
            hintDisplay.innerHTML = `<span class="hint-text">${number}. ${clue.hints[0]}</span>`;
            hintDisplay.title = clue.hints.join(' | '); // íˆ´íŒì— ëª¨ë“  íŒíŠ¸ í‘œì‹œ
        } else {
            hintDisplay.innerHTML = '<span class="hint-text">íŒíŠ¸ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤</span>';
        }
    }

    // ===== Timer and Game Flow =====
    startTimer() {
        this.timerInterval = setInterval(() => {
            this.timer--;
            this.updateTimer();
            
            if (this.timer <= 0) {
                this.timeOut();
            }
        }, 1000);
    }

    updateTimer() {
        const minutes = Math.floor(this.timer / 60);
        const seconds = this.timer % 60;
        this.timerDisplay.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
        
        if (this.timer <= 30) {
            this.timerDisplay.className = 'timer danger';
        } else if (this.timer <= 60) {
            this.timerDisplay.className = 'timer warning';
        } else {
            this.timerDisplay.className = 'timer';
        }
    }

    pauseGame() {
        if (!this.gameActive || this.isPaused) return;
        
        this.isPaused = true;
        clearInterval(this.timerInterval);
        this.showModal('pauseModal');
        this.playSound('click');
    }

    resumeGame() {
        if (!this.isPaused) return;
        
        this.isPaused = false;
        this.closeModal('pauseModal');
        this.startTimer();
        this.playSound('click');
    }

    timeOut() {
        this.endGame(false);
    }

    completeGame() {
        this.gameActive = false;
        clearInterval(this.timerInterval);
        
        const finalScore = this.calculateFinalScore();
        this.score = finalScore;
        
        this.showCelebration();
        this.playSound('complete');
        
        setTimeout(() => {
            if (this.isHighScore(finalScore)) {
                this.showNameInput();
            } else {
                this.showGameOver(true);
            }
        }, 3000);
    }

    endGame(completed = false) {
        this.gameActive = false;
        clearInterval(this.timerInterval);
        this.closeAllModals();
        
        const finalScore = this.calculateFinalScore();
        this.score = finalScore;
        
        if (completed && this.isHighScore(finalScore)) {
            this.showNameInput();
        } else {
            this.showGameOver(completed);
        }
    }

    calculateFinalScore() {
        let baseScore = this.score;
        const timeBonus = this.timer * 2;
        const difficultyMultiplier = this.difficulty * 0.1 + 1;
        const completionRatio = this.completedWords.size / (this.clues.across.length + this.clues.down.length);
        const completionBonus = completionRatio === 1 ? 500 : 0;
        
        return Math.round((baseScore + timeBonus + completionBonus) * difficultyMultiplier);
    }

    // ===== UI Updates =====
    updateScore() {
        this.scoreDisplay.textContent = this.score;
    }

    updateProgress() {
        this.completedDisplay.textContent = this.completedWords.size;
        this.totalDisplay.textContent = this.clues.across.length + this.clues.down.length;
    }

    // ===== Theme and Sound =====
    initTheme() {
        const savedTheme = localStorage.getItem('crossword-theme') || 'light';
        this.theme = savedTheme;
        document.body.setAttribute('data-theme', this.theme);
        this.updateThemeIcon();
    }

    toggleTheme() {
        this.theme = this.theme === 'light' ? 'dark' : 'light';
        document.body.setAttribute('data-theme', this.theme);
        localStorage.setItem('crossword-theme', this.theme);
        this.updateThemeIcon();
        this.playSound('click');
    }

    updateThemeIcon() {
        const icon = document.querySelector('#themeToggle i');
        icon.className = this.theme === 'light' ? 'fas fa-moon' : 'fas fa-sun';
    }

    toggleSound() {
        this.soundEnabled = !this.soundEnabled;
        const icon = document.querySelector('#soundToggle i');
        icon.className = this.soundEnabled ? 'fas fa-volume-up' : 'fas fa-volume-mute';
        localStorage.setItem('crossword-sound', this.soundEnabled);
        this.playSound('click');
    }

    playSound(type) {
        if (!this.soundEnabled) return;
        
        // Simple sound effects using Web Audio API
        try {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            switch(type) {
                case 'click':
                    oscillator.frequency.value = 800;
                    gainNode.gain.value = 0.1;
                    break;
                case 'correct':
                    oscillator.frequency.value = 1000;
                    gainNode.gain.value = 0.2;
                    oscillator.frequency.exponentialRampToValueAtTime(1200, audioContext.currentTime + 0.1);
                    break;
                case 'error':
                    oscillator.frequency.value = 300;
                    gainNode.gain.value = 0.15;
                    break;
                case 'complete':
                    oscillator.frequency.value = 1200;
                    gainNode.gain.value = 0.3;
                    oscillator.frequency.exponentialRampToValueAtTime(1600, audioContext.currentTime + 0.2);
                    break;
            }
            
            oscillator.start();
            oscillator.stop(audioContext.currentTime + 0.2);
        } catch (e) {
            console.log('Audio not supported');
        }
    }

    // ===== Celebration Effects =====
    showCelebration() {
        this.celebrationCanvas.style.display = 'block';
        
        // Simple 2D confetti
        const canvas = this.celebrationCanvas;
        const ctx = canvas.getContext('2d');
        
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        const confetti = [];
        const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#feca57', '#ff9ff3'];
        
        for (let i = 0; i < 100; i++) {
            confetti.push({
                x: Math.random() * canvas.width,
                y: -10,
                size: Math.random() * 5 + 2,
                speed: Math.random() * 3 + 1,
                color: colors[Math.floor(Math.random() * colors.length)],
                rotation: Math.random() * 360
            });
        }
        
        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            confetti.forEach((piece, index) => {
                piece.y += piece.speed;
                piece.rotation += 2;
                
                ctx.save();
                ctx.translate(piece.x, piece.y);
                ctx.rotate(piece.rotation * Math.PI / 180);
                ctx.fillStyle = piece.color;
                ctx.fillRect(-piece.size / 2, -piece.size / 2, piece.size, piece.size);
                ctx.restore();
                
                if (piece.y > canvas.height) {
                    confetti.splice(index, 1);
                }
            });
            
            if (confetti.length > 0) {
                requestAnimationFrame(animate);
            } else {
                canvas.style.display = 'none';
            }
        }
        
        animate();
    }

    // ===== Screen Management =====
    showStartScreen() {
        this.hideAllScreens();
        this.startScreen.classList.add('active');
    }

    showGameScreen() {
        this.hideAllScreens();
        this.gameScreen.classList.add('active');
    }

    showHighScores() {
        this.renderHighScores();
        this.hideAllScreens();
        this.highScoreScreen.classList.add('active');
        this.playSound('click');
    }

    showGameOver(isWin) {
        this.hideAllScreens();
        this.gameOverScreen.classList.add('active');
        
        const content = document.getElementById('gameOverContent');
        content.innerHTML = `
            <h2>${isWin ? 'ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤!' : 'â° ì‹œê°„ ì¢…ë£Œ'}</h2>
            <p>ìµœì¢… ì ìˆ˜: <strong>${this.score.toLocaleString()}ì </strong></p>
            <p>ì™„ì„±í•œ ë‹¨ì–´: <strong>${this.completedWords.size}/${this.clues.across.length + this.clues.down.length}ê°œ</strong></p>
            <p>ì™„ì„±ë¥ : <strong>${Math.round(this.completedWords.size / (this.clues.across.length + this.clues.down.length) * 100)}%</strong></p>
            <p>ë‚œì´ë„: <strong>${this.difficulty}ë‹¨ê³„</strong></p>
            <div class="button-group" style="margin-top: 2rem;">
                <button class="btn btn-primary" onclick="game.startGame()">
                    <i class="fas fa-redo"></i> ë‹¤ì‹œ í•˜ê¸°
                </button>
                <button class="btn btn-secondary" onclick="game.showStartScreen()">
                    <i class="fas fa-home"></i> ë©”ë‰´ë¡œ
                </button>
            </div>
        `;
    }

    showHelp() {
        this.showModal('helpModal');
        this.playSound('click');
    }

    hideAllScreens() {
        document.querySelectorAll('.screen').forEach(screen => {
            screen.classList.remove('active');
        });
    }

    // ===== Modal Management =====
    showModal(modalId) {
        document.getElementById(modalId).classList.add('active');
    }

    closeModal(modalId) {
        document.getElementById(modalId).classList.remove('active');
    }

    closeAllModals() {
        document.querySelectorAll('.modal').forEach(modal => {
            modal.classList.remove('active');
        });
    }

    // ===== High Score Management =====
    loadHighScores() {
        const saved = localStorage.getItem('crossword-highscores');
        this.highScores = saved ? JSON.parse(saved) : [];
    }

    saveHighScores() {
        localStorage.setItem('crossword-highscores', JSON.stringify(this.highScores));
    }

    isHighScore(score) {
        return this.highScores.length < 10 || score > (this.highScores[this.highScores.length - 1]?.score || 0);
    }

    addHighScore(name, score) {
        this.highScores.push({ 
            name, 
            score, 
            difficulty: this.difficulty,
            language: this.language,
            gridSize: this.gridSize,
            date: new Date().toLocaleDateString() 
        });
        this.highScores.sort((a, b) => b.score - a.score);
        this.highScores = this.highScores.slice(0, 10);
        this.saveHighScores();
    }

    showNameInput() {
        this.showModal('nameModal');
        document.getElementById('playerName').focus();
    }

    saveHighScore() {
        const name = document.getElementById('playerName').value.trim() || 'Anonymous';
        this.addHighScore(name, this.score);
        this.closeModal('nameModal');
        this.showGameOver(true);
        this.playSound('click');
    }

    skipNameInput() {
        this.closeModal('nameModal');
        this.showGameOver(true);
        this.playSound('click');
    }

    renderHighScores() {
        this.scoreList.innerHTML = '';
        
        if (this.highScores.length === 0) {
            this.scoreList.innerHTML = '<p style="text-align: center; color: var(--text-secondary); padding: 2rem;">ì•„ì§ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
            return;
        }
        
        this.highScores.forEach((score, index) => {
            const scoreItem = document.createElement('div');
            scoreItem.className = 'score-item';
            scoreItem.innerHTML = `
                <div class="score-rank">#${index + 1}</div>
                <div class="score-details">
                    <div class="score-name">${score.name}</div>
                    <div class="score-meta">${score.language} â€¢ ${score.gridSize}x${score.gridSize} â€¢ ë‚œì´ë„ ${score.difficulty} â€¢ ${score.date}</div>
                </div>
                <div class="score-value">${score.score.toLocaleString()}</div>
            `;
            this.scoreList.appendChild(scoreItem);
        });
    }

    // ===== Keyboard Shortcuts =====
    handleKeyboard(e) {
        if (e.key === 'Escape') {
            if (this.gameActive && !this.isPaused) {
                this.pauseGame();
            } else {
                this.closeAllModals();
            }
        } else if (e.key === 'Enter' && !this.gameActive) {
            if (this.startScreen.classList.contains('active')) {
                this.startGame();
            }
        }
    }

    // ===== Utility Functions =====
    shuffleArray(array) {
        const newArray = [...array];
        for (let i = newArray.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
        }
        return newArray;
    }
}

// ===== Initialize Game =====
let game;

document.addEventListener('DOMContentLoaded', () => {
    game = new AdvancedCrosswordGame();
    
    // Load saved settings
    const savedSound = localStorage.getItem('crossword-sound');
    if (savedSound !== null) {
        game.soundEnabled = savedSound === 'true';
        const icon = document.querySelector('#soundToggle i');
        icon.className = game.soundEnabled ? 'fas fa-volume-up' : 'fas fa-volume-mute';
    }
});

// ===== Service Worker for PWA =====
if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
            .then(registration => console.log('SW registered'))
            .catch(registrationError => console.log('SW registration failed'));
    });
}